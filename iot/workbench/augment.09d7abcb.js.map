{"version":3,"sources":["lib/augment.js"],"names":["Object","size","obj","count","key","hasOwnProperty","indexOf","index","x","getPropertyByIndex","i","getFirstValue","String","prototype","startsWith","s","Array","shuffle","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","CanvasRenderingContext2D","fillRoundedRect","y","w","h","r","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fill","drawRoundedRect","stroke","drawTooltip","margin","text","centered","save","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","tooltipWidth","measureText","width","fillStyle","strokeStyle","lineWidth","restore","textAlign","fillText","str","navigator","sayswho","ua","userAgent","tem","M","match","test","exec","slice","join","replace","appName","appVersion","splice"],"mappings":"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","file":"augment.09d7abcb.js","sourceRoot":"..","sourcesContent":["/*\r\n * This file contains all the methods that augment prototypes of system objects. In cases where the name is obvious,\r\n * we want to check if the method has been defined by the language. If yes, we should not define our own.\r\n *\r\n * @author Charles Xie\r\n *\r\n */\r\n\r\n'use strict';\r\n\r\n// A convenient method for counting the number of members of an object\r\nif (typeof Object.size !== 'function') {\r\n  Object.size = function (obj) {\r\n    var count = 0;\r\n    for (var key in obj) {\r\n      if (obj.hasOwnProperty(key))\r\n        count++;\r\n    }\r\n    return count;\r\n  };\r\n}\r\n\r\nif (typeof Object.indexOf !== 'function') {\r\n  Object.indexOf = function (key, obj) {\r\n    if (!obj.hasOwnProperty(key))\r\n      return -1;\r\n    var index = -1;\r\n    for (var x in obj) {\r\n      if (obj.hasOwnProperty(x)) {\r\n        index++;\r\n        if (key === x) {\r\n          return index;\r\n        }\r\n      }\r\n    }\r\n    return index;\r\n  }\r\n}\r\n\r\nObject.getPropertyByIndex = function (index, obj) {\r\n  var i = -1;\r\n  for (var x in obj) {\r\n    if (obj.hasOwnProperty(x)) {\r\n      i++;\r\n      if (i === index) {\r\n        return x;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nObject.getFirstValue = function (obj) {\r\n  for (var x in obj) {\r\n    if (obj.hasOwnProperty(x)) {\r\n      return obj[x];\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nif (typeof String.prototype.startsWith !== 'function') { // do not call this, doesn't work for some reason\r\n  String.prototype.startsWith = function (s) {\r\n    return this.indexOf(s) === 0;\r\n  };\r\n}\r\n\r\n// Fisherâ€“Yates shuffle of an array\r\nif (typeof Array.prototype.shuffle !== 'function') {\r\n  Array.prototype.shuffle = function shuffle() {\r\n    var currentIndex = this.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (currentIndex !== 0) {\r\n      // Pick a remaining element...\r\n      randomIndex = Math.floor(Math.random() * currentIndex);\r\n      currentIndex -= 1;\r\n      // And swap it with the current element.\r\n      temporaryValue = this[currentIndex];\r\n      this[currentIndex] = this[randomIndex];\r\n      this[randomIndex] = temporaryValue;\r\n    }\r\n  }\r\n}\r\n\r\nif (typeof CanvasRenderingContext2D.prototype.fillRoundedRect !== 'function') {\r\n  CanvasRenderingContext2D.prototype.fillRoundedRect = function fillRoundedRect(x, y, w, h, r) {\r\n    this.beginPath();\r\n    this.moveTo(x + r, y);\r\n    this.lineTo(x + w - r, y);\r\n    this.quadraticCurveTo(x + w, y, x + w, y + r);\r\n    this.lineTo(x + w, y + h - r);\r\n    this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\r\n    this.lineTo(x + r, y + h);\r\n    this.quadraticCurveTo(x, y + h, x, y + h - r);\r\n    this.lineTo(x, y + r);\r\n    this.quadraticCurveTo(x, y, x + r, y);\r\n    this.closePath();\r\n    this.fill();\r\n  }\r\n}\r\n\r\nif (typeof CanvasRenderingContext2D.prototype.drawRoundedRect !== 'function') {\r\n  CanvasRenderingContext2D.prototype.drawRoundedRect = function drawRoundedRect(x, y, w, h, r) {\r\n    this.beginPath();\r\n    this.moveTo(x + r, y);\r\n    this.lineTo(x + w - r, y);\r\n    this.quadraticCurveTo(x + w, y, x + w, y + r);\r\n    this.lineTo(x + w, y + h - r);\r\n    this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\r\n    this.lineTo(x + r, y + h);\r\n    this.quadraticCurveTo(x, y + h, x, y + h - r);\r\n    this.lineTo(x, y + r);\r\n    this.quadraticCurveTo(x, y, x + r, y);\r\n    this.closePath();\r\n    this.stroke();\r\n  }\r\n}\r\n\r\nCanvasRenderingContext2D.prototype.drawTooltip = function drawTooltip(x, y, h, r, margin, text, centered) {\r\n  this.save();\r\n  this.shadowColor = 'black';\r\n  this.shadowBlur = 8;\r\n  this.shadowOffsetX = 2;\r\n  this.shadowOffsetY = 2;\r\n  var tooltipWidth = this.measureText(text).width + 2 * margin;\r\n  this.fillStyle = 'rgba(255, 202, 0, 0.5)';\r\n  this.fillRoundedRect(centered ? x - tooltipWidth / 2 : x, y, tooltipWidth, h, r);\r\n  this.strokeStyle = 'lightGray';\r\n  this.lineWidth = 1;\r\n  this.beginPath();\r\n  this.drawRoundedRect(centered ? x - tooltipWidth / 2 : x, y, tooltipWidth, h, r);\r\n  this.stroke();\r\n  this.closePath();\r\n  this.restore();\r\n  this.save();\r\n  this.fillStyle = 'white';\r\n  this.textAlign = 'center';\r\n  this.fillText(text, centered ? x : x + tooltipWidth / 2, y + h / 2 + 5);\r\n  this.restore();\r\n}\r\n\r\n// if String.startsWith hasn't been defined, as is in the case of IE, define it below\r\nif (typeof String.prototype.startsWith !== 'function') {\r\n  String.prototype.startsWith = function (str) {\r\n    return this.indexOf(str) === 0;\r\n  };\r\n}\r\n\r\nnavigator.sayswho = (function () {\r\n  var ua = navigator.userAgent, tem, M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\r\n  if (/trident/i.test(M[1])) {\r\n    tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\r\n    return 'IE ' + (tem[1] || '');\r\n  }\r\n  if (M[1] === 'Chrome') {\r\n    tem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/);\r\n    if (tem != null)\r\n      return tem.slice(1).join(' ').replace('OPR', 'Opera');\r\n  }\r\n  M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\r\n  if ((tem = ua.match(/version\\/(\\d+)/i)) != null)\r\n    M.splice(1, 1, tem[1]);\r\n  return M.join(' ');\r\n})();\r\n"]}