parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Eofe":[function(require,module,exports) {

},{"./..\\webfonts\\fa-brands-400.eot":[["fa-brands-400.c99d5442.eot","YH3g"],"YH3g"],"./..\\webfonts\\fa-brands-400.woff2":[["fa-brands-400.c0d8bb36.woff2","qUWF"],"qUWF"],"./..\\webfonts\\fa-brands-400.woff":[["fa-brands-400.11a44150.woff","d16i"],"d16i"],"./..\\webfonts\\fa-brands-400.ttf":[["fa-brands-400.20cead16.ttf","Lu1x"],"Lu1x"],"./..\\webfonts\\fa-brands-400.svg":[["fa-brands-400.a515b611.svg","GRGc"],"GRGc"],"./..\\webfonts\\fa-regular-400.eot":[["fa-regular-400.369eb765.eot","nv22"],"nv22"],"./..\\webfonts\\fa-regular-400.woff2":[["fa-regular-400.550f7af0.woff2","M504"],"M504"],"./..\\webfonts\\fa-regular-400.woff":[["fa-regular-400.ef6f0018.woff","H1q6"],"H1q6"],"./..\\webfonts\\fa-regular-400.ttf":[["fa-regular-400.17102ce2.ttf","Evul"],"Evul"],"./..\\webfonts\\fa-regular-400.svg":[["fa-regular-400.14dd3750.svg","D7rB"],"D7rB"],"./..\\webfonts\\fa-solid-900.eot":[["fa-solid-900.2c8dfef2.eot","ISQp"],"ISQp"],"./..\\webfonts\\fa-solid-900.woff2":[["fa-solid-900.c1a895b2.woff2","PerI"],"PerI"],"./..\\webfonts\\fa-solid-900.woff":[["fa-solid-900.cf2beb40.woff","nA9q"],"nA9q"],"./..\\webfonts\\fa-solid-900.ttf":[["fa-solid-900.8bff6c41.ttf","FJZt"],"FJZt"],"./..\\webfonts\\fa-solid-900.svg":[["fa-solid-900.6f9dbdf9.svg","lFqB"],"lFqB"]}],"Xnuv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Software={name:"IoT Workbench",abbreviation:"IW",version:"0.0.1"},exports.Font={label:"9px Arial",normal:"10px Arial",axisName:"12px Arial",highlight:"14px Arial"};
},{}],"TG6N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return function(e,t,i){this.firstName=e,this.middleInitial=t,this.lastName=i,this.fullName=t?e+" "+t+" "+i:e+" "+i}}();exports.User=e;
},{}],"tHeT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){this.gridSize=20,this.canvas=document.getElementById(t),this.canvas.addEventListener("mousedown",this.mouseDown.bind(this),!1),this.canvas.addEventListener("mouseup",this.mouseUp.bind(this),!1),this.canvas.addEventListener("mousemove",this.mouseMove.bind(this),!1),this.canvas.addEventListener("contextmenu",this.openContextMenu.bind(this),!1)}return t.prototype.draw=function(){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawGrid(t)},t.prototype.drawGrid=function(t){t.beginPath(),t.strokeStyle="LightSkyBlue";for(var e=1;e<=this.canvas.height/this.gridSize;e++)t.moveTo(0,e*this.gridSize),t.lineTo(this.canvas.width,e*this.gridSize);for(e=1;e<=this.canvas.width/this.gridSize;e++)t.moveTo(e*this.gridSize,0),t.lineTo(e*this.gridSize,this.canvas.height);t.stroke(),t.closePath(),t.restore()},t.prototype.contains=function(t,e){return t>this.canvas.offsetLeft&&t<this.canvas.offsetLeft+this.canvas.width&&e>this.canvas.offsetTop&&e<this.canvas.offsetTop+this.canvas.height},t.prototype.getX=function(){return 10},t.prototype.getY=function(){return 10},t.prototype.getWidth=function(){return this.canvas.width},t.prototype.getHeight=function(){return this.canvas.height},t.prototype.mouseDown=function(t){t.preventDefault();var e=this.canvas.getBoundingClientRect();t.clientX,e.x,t.clientY,e.y},t.prototype.mouseUp=function(t){t.preventDefault();var e=this.canvas.getBoundingClientRect();t.clientX,e.x,t.clientY,e.y,this.canvas.getContext("2d")},t.prototype.mouseMove=function(t){t.preventDefault();var e=this.canvas.getBoundingClientRect();t.clientX,e.x,t.clientY,e.y,this.canvas.getContext("2d")},t.prototype.openContextMenu=function(t){t.preventDefault();var e=document.getElementById("workbench-context-menu");e.style.left=t.clientX+"px",e.style.top=t.clientY-document.getElementById("tabs").getBoundingClientRect().bottom+"px",e.classList.add("show-menu")},t}();exports.Workbench=t;
},{}],"dbAl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){this.handles=[],this.canvas=document.getElementById(t)}return t.prototype.getUid=function(){return this.uid},t.prototype.getX=function(){return this.canvas.offsetLeft},t.prototype.setX=function(t){this.canvas.style.left=t+"px"},t.prototype.getY=function(){return this.canvas.offsetTop},t.prototype.setY=function(t){this.canvas.style.top=t+"px"},t.prototype.getWidth=function(){return this.canvas.width},t.prototype.getHeight=function(){return this.canvas.height},t.prototype.contains=function(t,e){return t>this.canvas.offsetLeft&&t<this.canvas.offsetLeft+this.canvas.width&&e>this.canvas.offsetTop&&e<this.canvas.offsetTop+this.canvas.height},t.prototype.whichHandle=function(t,e){for(var n=0;n<this.handles.length;n++)if(this.handles[n].contains(t,e))return n;return-1},t.prototype.drawHandle=function(t,e){e.strokeStyle="yellow",e.beginPath(),e.rect(t.x,t.y,t.width,t.height),e.stroke(),e.closePath()},t}();exports.Board=t;
},{}],"tA44":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i,e,h){this.x=t,this.y=i,this.width=e,this.height=h}return t.prototype.getXmax=function(){return this.x+this.width},t.prototype.getYmax=function(){return this.y+this.height},t.prototype.getXmin=function(){return this.x},t.prototype.getYmin=function(){return this.y},t.prototype.getCenterX=function(){return this.x+this.width/2},t.prototype.getCenterY=function(){return this.y+this.height/2},t.prototype.contains=function(t,i){return t>this.x&&t<this.x+this.width&&i>this.y&&i<this.y+this.height},t.prototype.intersectRect=function(t){return!(t.x>this.getXmax()||t.getXmax()<this.x||t.y>this.getYmax()||t.getYmax()<this.y)},t.prototype.toString=function(){return"["+this.x+", "+this.y+", "+this.width+", "+this.height+"]"},t}();exports.Rectangle=t;
},{}],"xV4y":[function(require,module,exports) {
module.exports="/raspberry-pi.1e3c7e1d.png";
},{}],"ZYSZ":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./Board"),s=require("../math/Rectangle"),a=t(require("../img/raspberry-pi.png")),o=function(t){function n(e){var n=t.call(this,e)||this;return n.openContextMenu=function(e){e.preventDefault();var t=document.getElementById("raspberry-pi-context-menu");t.style.left=e.clientX+"px",t.style.top=e.clientY-document.getElementById("tabs").getBoundingClientRect().bottom+"px",t.classList.add("show-menu")},n.mouseDown=function(e){e.preventDefault()},n.mouseUp=function(e){e.preventDefault()},n.mouseMove=function(e){e.preventDefault();var t=n.canvas.getBoundingClientRect(),s=e.clientX-t.x,a=e.clientY-t.y;n.handles[0].contains(s,a)?(n.mouseOverObject=n.handles[0],n.canvas.style.cursor="move"):n.handles[1].contains(s,a)?(n.mouseOverObject=n.handles[1],n.canvas.style.cursor="move"):n.handles[2].contains(s,a)?(n.mouseOverObject=n.handles[2],n.canvas.style.cursor="move"):n.handles[3].contains(s,a)?(n.mouseOverObject=n.handles[3],n.canvas.style.cursor="move"):(n.mouseOverObject=null,n.canvas.style.cursor="default"),n.draw()},n.uid="Raspberry Pi",n.canvas.addEventListener("mousedown",n.mouseDown,!1),n.canvas.addEventListener("mouseup",n.mouseUp,!1),n.canvas.addEventListener("mousemove",n.mouseMove,!1),n.canvas.addEventListener("contextmenu",n.openContextMenu,!1),n.handles.push(new s.Rectangle(5,5,30,30)),n.handles.push(new s.Rectangle(395,5,30,30)),n.handles.push(new s.Rectangle(395,245,30,30)),n.handles.push(new s.Rectangle(5,245,30,30)),n.boardImage=new Image,n.boardImage.src=a.default,n.setX(20),n.setY(20),n.updateFromFirebase(),n}return e(n,t),n.prototype.draw=function(){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.save(),e.shadowOffsetX=10,e.shadowOffsetY=10,e.shadowColor="rgb(96, 96, 96)",e.shadowBlur=10,e.drawImage(this.boardImage,0,0),e.restore(),this.drawToolTips()},n.prototype.drawToolTips=function(){var e=this.canvas.getContext("2d"),t=0,n=-25;this.mouseOverObject==this.handles[0]?(this.drawHandle(this.mouseOverObject,e),t+=this.handles[0].getXmax()+20,n+=this.handles[0].getYmax()+30,e.drawTooltip(t,n,20,8,10,"Upper-left handle",!0)):this.mouseOverObject==this.handles[1]?(this.drawHandle(this.mouseOverObject,e),t+=this.handles[1].getXmin()-30,n+=this.handles[1].getYmax()+30,e.drawTooltip(t,n,20,8,10,"Upper-right handle",!0)):this.mouseOverObject==this.handles[2]?(this.drawHandle(this.mouseOverObject,e),t+=this.handles[2].getXmin()-30,n+=this.handles[2].getYmin()-5,e.drawTooltip(t,n,20,8,10,"Lower-right handle",!0)):this.mouseOverObject==this.handles[3]&&(this.drawHandle(this.mouseOverObject,e),t+=this.handles[3].getXmax()+20,n+=this.handles[3].getYmin()-5,e.drawTooltip(t,n,20,8,10,"Lower-left handle",!0))},n.prototype.updateFirebase=function(e){},n.prototype.updateFromFirebase=function(){},n}(n.Board);exports.RaspberryPi=o;
},{"./Board":"dbAl","../math/Rectangle":"tA44","../img/raspberry-pi.png":"xV4y"}],"crzz":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])})(r,n)};return function(r,n){function e(){this.constructor=r}t(r,n),r.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./Board"),n=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return t(n,r),n.prototype.attach=function(t){null!=t?t.hat=this:null!=this.raspberryPi&&(this.raspberryPi.hat=null),this.raspberryPi=t},n}(r.Board);exports.Hat=n;
},{"./Board":"dbAl"}],"vA16":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i,e,h,s,r){this.color="lightgreen",this.fontSize="70px",this.fontFamily="digital-clock-font",this.board=t,this.name=i,this.x=e,this.y=h,this.width=s,this.height=r}return t.prototype.draw=function(t){t.save(),this.character&&(t.fillStyle="lightgreen",t.font=this.fontSize+" "+this.fontFamily,t.fillText(this.character,this.x,this.y)),t.restore()},t.prototype.setCharacter=function(t){if(null!=t&&1!=t.length)throw"Only one character is allowed";this.character=t},t.prototype.contains=function(t,i){return t>this.x&&t<this.x+this.width&&i>this.y&&i<this.y+this.height},t}();exports.LedDisplay=t;
},{}],"lpHZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../Main"),e=function(){function e(t,e,i,o,s,n){this.board=t,this.name=e,this.x=i,this.y=o,this.width=s,this.height=n}return e.prototype.draw=function(t){if(t.save(),this.on){t.lineWidth=3,t.strokeStyle="white";for(var e=this.x+this.width/2,i=this.y+this.height/2,o=.25*Math.PI,s=0;s<4;s++){var n=5+5*s;t.beginPath(),t.arc(e,i,n,-o,o),t.stroke(),t.beginPath(),t.arc(e,i,n,Math.PI-o,Math.PI+o),t.stroke()}}t.restore()},e.prototype.contains=function(t,e){return t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height},e.prototype.beepButton=function(t){switch(t){case"A":this.beep(1,800,200);break;case"B":this.beep(1,400,200);break;case"C":this.beep(1,200,200)}},e.prototype.beep=function(e,i,o){this.on=!0,null==this.audioContext&&(this.audioContext=new AudioContext);var s=this.audioContext.createOscillator(),n=this.audioContext.createGain();s.connect(n),s.frequency.value=i,s.type="square",n.connect(this.audioContext.destination),n.gain.value=.01*e,s.start(this.audioContext.currentTime),s.stop(this.audioContext.currentTime+.001*o);var h=this;setTimeout(function(){h.on=!1,t.system.rainbowHat.draw()},200)},e}();exports.Buzzer=e;
},{"../Main":"XE2v"}],"iq1x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function r(){}return r.countDigits=function(r){return r.toString().length},r.adjust=function(r,e){return"#"+r.replace(/^#/,"").replace(/../g,function(r){return("0"+Math.min(255,Math.max(0,parseInt(r,16)+e)).toString(16)).substr(-2)})},r.hexToRgb=function(r){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},r.rgbToHex=function(r,e,t){return"#"+((1<<24)+(r<<16)+(e<<8)+t).toString(16).slice(1)},r.rgbToHue=function(r,e,t){r/=255,e/=255,t/=255;var a,n=Math.max(r,e,t),o=n-Math.min(r,e,t);if(0==o)a=0;else switch(n){case r:var u=0;(s=(e-t)/o)<0&&(u=6),a=s+u;break;case e:a=(s=(t-r)/o)+(u=2);break;case t:var s;a=(s=(r-e)/o)+(u=4)}return 60*a},r.rgbToHsl=function(r,e,t){var a=r/255,n=e/255,o=t/255,u=Math.max(a,n,o),s=Math.min(a,n,o),c=(u+s)/2,i=0,b=0;return u!=s&&(i=c<.5?(u-s)/(u+s):(u-s)/(2-u-s),b=a==u?(n-o)/(u-s):n==u?2+(o-a)/(u-s):4+(a-n)/(u-s)),(b*=60)<0&&(b+=360),{h:b,s:i*=100,l:c*=100}},r.hslToRgb=function(r,e,t){var a,n,o;if(0==e)a=n=o=t;else{var u=function(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r},s=t<.5?t*(1+e):t+e-t*e,c=2*t-s;a=u(c,s,r+1/3),n=u(c,s,r),o=u(c,s,r-1/3)}return{r:Math.round(255*a),g:Math.round(255*n),b:Math.round(255*o)}},r.getHueColor=function(e){var t=r.hexToRgb(e);return t=r.hslToRgb(r.rgbToHue(t.r,t.g,t.b)/360,.5,.5),r.rgbToHex(t.r,t.g,t.b)},r.hsvToRgb=function(r,e,t){var a,n,o,u=Math.floor(6*r),s=6*r-u,c=t*(1-e),i=t*(1-s*e),b=t*(1-(1-s)*e);switch(u%6){case 0:a=t,n=b,o=c;break;case 1:a=i,n=t,o=c;break;case 2:a=c,n=t,o=b;break;case 3:a=c,n=i,o=t;break;case 4:a=b,n=c,o=t;break;case 5:a=t,n=c,o=i}return{r:Math.round(255*a),g:Math.round(255*n),b:Math.round(255*o)}},r.rgbToHsv=function(r,e,t){var a,n=Math.max(r,e,t),o=Math.min(r,e,t),u=n-o,s=0===n?0:u/n,c=n/255;switch(n){case o:a=0;break;case r:a=e-t+u*(e<t?6:0),a/=6*u;break;case e:a=t-r+2*u,a/=6*u;break;case t:a=r-e+4*u,a/=6*u}return{h:a,s:s,v:c}},r}();exports.Util=r;
},{}],"aPO1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../Util"),i=function(){function i(t,i,s,h,o,r,e,a,d,n){this.color="#ff0000",this.radius=4,this.rays=8,this.rayLength=5,this.on=!1,this.board=t,this.name=i,this.color=s,this.radius=h,this.rays=o,this.rayLength=r,this.x=e,this.y=a,this.width=d,this.height=n}return i.prototype.draw=function(i){if(i.save(),this.on){i.beginPath(),i.lineWidth=1;var s=this.x+this.width/2,h=this.y+this.height/2;if(this.radius<8){var o=void 0,r=void 0,e=void 0,a=void 0,d=void 0,n=void 0,l=void 0;i.strokeStyle="white";for(var u=0;u<this.rays;u++)d=u*Math.PI*2/this.rays,n=Math.cos(d),l=Math.sin(d),o=s+this.radius*n*2/3,r=h+this.radius*l*2/3,e=s+(this.radius+this.rayLength)*n,a=h+(this.radius+this.rayLength)*l,i.beginPath(),i.moveTo(o,r),i.lineTo(e,a),i.stroke(),i.closePath();i.fillStyle=this.color}else{var c=i.createRadialGradient(s,h,0,s,h,this.radius);c.addColorStop(1,"rgba(255, 255, 255, 0)"),c.addColorStop(.5,t.Util.adjust(this.color,-100)),c.addColorStop(0,t.Util.adjust(this.color,100)),i.fillStyle=c}i.arc(s,h,this.radius,0,2*Math.PI),i.closePath(),i.fill()}else i.beginPath(),i.lineWidth=2,i.strokeStyle=this.color,i.arc(this.x+this.width/2,this.y+this.height/2,this.radius,0,2*Math.PI),i.stroke(),i.closePath();i.restore()},i.prototype.contains=function(t,i){return t>this.x&&t<this.x+this.width&&i>this.y&&i<this.y+this.height},i.prototype.toggle=function(t,i){var s=this.contains(t,i);return s&&(this.on=!this.on),s},i}();exports.LedLight=i;
},{"../Util":"iq1x"}],"YLVB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i,h,s,e,o){this.on=!1,this.pressedColor="#66cccccc",this.board=t,this.name=i,this.x=h,this.y=s,this.width=e,this.height=o}return t.prototype.draw=function(t){this.on&&(t.fillStyle=this.pressedColor,t.fillRect(this.x,this.y,this.width,this.height)),t.lineWidth=1,t.strokeStyle="black",t.rect(this.x,this.y,this.width,this.height),t.stroke()},t.prototype.contains=function(t,i){return t>this.x&&t<this.x+this.width&&i>this.y&&i<this.y+this.height},t}();exports.Button=t;
},{}],"pqDF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i,h,s,e,o,r){this.data=[],this.collectionInterval=1,this.on=!1,this.pressedColor="white",this.board=t,this.name=i,this.unit=h,this.x=s,this.y=e,this.width=o,this.height=r}return t.prototype.draw=function(t){this.on&&(t.fillStyle=this.pressedColor,t.fillRect(this.x,this.y,this.width,this.height)),t.lineWidth=1,t.strokeStyle="black",t.rect(this.x,this.y,this.width,this.height),t.stroke()},t.prototype.contains=function(t,i){return t>this.x&&t<this.x+this.width&&i>this.y&&i<this.y+this.height},t}();exports.Sensor=t;
},{}],"RQah":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../Util"),o=function(){function o(){this.rgbaColor="#ffffffff",this.savedBlockX=-10,this.savedBlockY=-10,this.savedStripY=-10,this.colorBlock=document.getElementById("color-block"),this.ctx1=this.colorBlock.getContext("2d"),this.colorStrip=document.getElementById("color-strip"),this.ctx2=this.colorStrip.getContext("2d"),this.colorBlock.addEventListener("mousedown",this.mouseDownBlock.bind(this),!1),this.colorBlock.addEventListener("mouseup",this.mouseUpBlock.bind(this),!1),this.colorStrip.addEventListener("click",this.mouseClickStrip.bind(this),!1),this.colorStrip.addEventListener("mousedown",this.mouseDownStrip.bind(this),!1),this.colorStrip.addEventListener("mouseup",this.mouseUpStrip.bind(this),!1)}return o.prototype.setColorLabel=function(t){this.colorLabel=t},o.prototype.setColorCode=function(t){this.colorCode=t},o.prototype.setSelectedColor=function(o){this.rgbaColor=o;var i=t.Util.hexToRgb(o);this.savedStripY=this.colorStrip.height*t.Util.rgbToHue(i.r,i.g,i.b)/360,this.colorLabel&&(this.colorLabel.style.backgroundColor=o),this.colorCode&&(this.colorCode.value=o,this.colorCode.select())},o.prototype.setSelectedPoint=function(){for(var o=t.Util.hexToRgb(this.rgbaColor),i=this.ctx1.getImageData(0,0,this.colorBlock.width,this.colorBlock.height).data,e=i.length/4,r=0;r<e;r++)if(i[4*r]==o.r&&i[4*r+1]==o.g&&i[4*r+2]==o.b){this.savedBlockX=r%this.colorBlock.width,this.savedBlockY=r/this.colorBlock.width,this.draw();break}},o.prototype.getSelectedColor=function(){return this.rgbaColor},o.prototype.draw=function(){this.ctx1.clearRect(0,0,this.colorBlock.width,this.colorBlock.height),this.ctx1.rect(0,0,this.colorBlock.width,this.colorBlock.height),this.fillGradient(),this.ctx1.strokeStyle="white",this.ctx1.lineWidth=2,this.ctx1.beginPath(),this.ctx1.arc(this.savedBlockX,this.savedBlockY,6,0,2*Math.PI),this.ctx1.stroke(),this.ctx2.clearRect(0,0,this.colorStrip.width,this.colorStrip.height),this.ctx2.rect(0,0,this.colorStrip.width,this.colorStrip.height);var t=this.ctx2.createLinearGradient(0,0,0,this.colorStrip.height);t.addColorStop(0,"#ff0000"),t.addColorStop(1/6,"#ffff00"),t.addColorStop(2/6,"#00ff00"),t.addColorStop(.5,"#00ffff"),t.addColorStop(4/6,"#0000ff"),t.addColorStop(5/6,"#ff00ff"),t.addColorStop(1,"#ff0000"),this.ctx2.fillStyle=t,this.ctx2.fill(),this.ctx2.fillStyle="white",this.ctx2.beginPath(),this.ctx2.rect(0,this.savedStripY,this.colorStrip.width,6),this.ctx2.fill(),this.ctx2.strokeStyle="black",this.ctx2.lineWidth=2,this.ctx2.beginPath(),this.ctx2.rect(0,this.savedStripY,this.colorStrip.width,8),this.ctx2.stroke()},o.prototype.fillGradient=function(){this.ctx1.fillStyle=t.Util.getHueColor(this.rgbaColor),this.ctx1.fillRect(0,0,this.colorBlock.width,this.colorBlock.height);var o=this.ctx1.createLinearGradient(0,0,this.colorBlock.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(1,"rgba(255, 255, 255, 0)"),this.ctx1.fillStyle=o,this.ctx1.fillRect(0,0,this.colorBlock.width,this.colorBlock.height);var i=this.ctx1.createLinearGradient(0,0,0,this.colorBlock.height);i.addColorStop(0,"rgba(0, 0, 0, 0)"),i.addColorStop(1,"rgba(0, 0, 0, 1)"),this.ctx1.fillStyle=i,this.ctx1.fillRect(0,0,this.colorBlock.width,this.colorBlock.height)},o.prototype.mouseDownStrip=function(t){t.stopPropagation()},o.prototype.mouseUpStrip=function(t){t.stopPropagation()},o.prototype.mouseClickStrip=function(o){this.savedStripY=o.offsetY;var i=this.ctx2.getImageData(o.offsetX,o.offsetY,1,1).data;this.rgbaColor=t.Util.rgbToHex(i[0],i[1],i[2]),this.draw(),o.stopPropagation()},o.prototype.mouseDownBlock=function(t){this.changeColor(t),t.stopPropagation()},o.prototype.mouseUpBlock=function(t){this.savedBlockX=t.offsetX,this.savedBlockY=t.offsetY,this.draw(),t.stopPropagation()},o.prototype.changeColor=function(o){var i=this.ctx1.getImageData(o.offsetX,o.offsetY,1,1).data;this.rgbaColor=t.Util.rgbToHex(i[0],i[1],i[2]),this.colorLabel&&(this.colorLabel.style.backgroundColor=this.rgbaColor),this.colorCode&&(this.colorCode.value=this.rgbaColor)},o}();exports.ColorPicker=o;
},{"../Util":"iq1x"}],"XDBg":[function(require,module,exports) {
module.exports="/rainbow-hat.2d0218a8.png";
},{}],"oWFe":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function r(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var s=require("./Hat"),r=require("./LedDisplay"),i=require("./Buzzer"),n=require("./LedLight"),a=require("./Button"),o=require("./Sensor"),d=require("../System"),h=require("../Main"),u=require("../Util"),l=require("../math/Rectangle"),c=require("../tools/ColorPicker"),g=t(require("../img/rainbow-hat.png")),L=function(t){function s(e){var s=t.call(this,e)||this;s.rgbLedLights=[],s.alphanumericDisplays=[],s.decimalPointDisplays=[],s.indexOfSelectedRgbLedLight=-1,s.stateId="rainbow_hat_default",s.openContextMenu=function(e){e.preventDefault();var t=s.canvas.getBoundingClientRect(),r=e.clientX-t.x,i=e.clientY-t.y;s.indexOfSelectedRgbLedLight=-1;for(var n=0;n<s.rgbLedLights.length;n++)if(s.rgbLedLights[n].contains(r,i)){s.indexOfSelectedRgbLedLight=n;break}if(s.indexOfSelectedRgbLedLight>=0){(a=document.getElementById("colorpicker-context-menu")).style.left=e.clientX+"px",a.style.top=e.clientY-document.getElementById("tabs").getBoundingClientRect().bottom+"px",a.classList.add("show-menu"),null==h.system.colorPicker&&(h.system.colorPicker=new c.ColorPicker),h.system.colorPicker.setColorLabel(document.getElementById("colorpicker-label")),h.system.colorPicker.setColorCode(document.getElementById("colorpicker-hex-code")),h.system.colorPicker.setSelectedColor(s.rgbLedLights[s.indexOfSelectedRgbLedLight].color),h.system.colorPicker.draw(),h.system.colorPicker.setSelectedPoint(),document.getElementById("colorpicker-title").innerText="RGB LED Light "+s.indexOfSelectedRgbLedLight}else{var a;(a=document.getElementById("rainbow-hat-context-menu")).style.left=e.clientX+"px",a.style.top=e.clientY-document.getElementById("tabs").getBoundingClientRect().bottom+"px",a.classList.add("show-menu");var o=document.getElementById("rainbow-hat-attach-menu-item"),d=document.getElementById("rainbow-hat-detach-menu-item");if(null!=s.raspberryPi)o.className="menu-item disabled",d.className="menu-item";else{var u=new l.Rectangle(s.getX(),s.getY(),s.getWidth(),s.getHeight()),g=new l.Rectangle(h.system.raspberryPi.getX(),h.system.raspberryPi.getY(),h.system.raspberryPi.getWidth(),h.system.raspberryPi.getHeight()),L=u.intersectRect(g);o.className=L?"menu-item":"menu-item disabled",d.className="menu-item disabled"}}},s.mouseDown=function(e){e.preventDefault();var t=s.canvas.getBoundingClientRect(),r=e.clientX-t.x,i=e.clientY-t.y,n=s.canvas.getContext("2d");return s.redLedLight.toggle(r,i)?(s.updateFirebase({redLed:s.redLedLight.on}),void s.redLedLight.draw(n)):s.greenLedLight.toggle(r,i)?(s.updateFirebase({greenLed:s.greenLedLight.on}),void s.greenLedLight.draw(n)):s.blueLedLight.toggle(r,i)?(s.updateFirebase({blueLed:s.blueLedLight.on}),void s.blueLedLight.draw(n)):s.buttonA.contains(r,i)?(s.buttonA.on=!0,s.buttonA.draw(n),s.redLedLight.on=!0,s.redLedLight.draw(n),s.updateFirebase({redLed:!0}),void s.buzzer.beepButton("A")):s.buttonB.contains(r,i)?(s.buttonB.on=!0,s.buttonB.draw(n),s.greenLedLight.on=!0,s.greenLedLight.draw(n),s.updateFirebase({greenLed:!0}),void s.buzzer.beepButton("B")):s.buttonC.contains(r,i)?(s.buttonC.on=!0,s.buttonC.draw(n),s.blueLedLight.on=!0,s.blueLedLight.draw(n),s.updateFirebase({blueLed:!0}),void s.buzzer.beepButton("C")):void 0},s.mouseUp=function(e){e.preventDefault();var t=s.canvas.getBoundingClientRect(),r=e.clientX-t.x,i=e.clientY-t.y,n=s.canvas.getContext("2d");return s.buttonA.contains(r,i)?(s.buttonA.on=!1,s.buttonA.draw(n),s.redLedLight.on=!1,s.redLedLight.draw(n),void s.updateFirebase({redLed:!1})):s.buttonB.contains(r,i)?(s.buttonB.on=!1,s.buttonB.draw(n),s.greenLedLight.on=!1,s.greenLedLight.draw(n),void s.updateFirebase({greenLed:!1})):s.buttonC.contains(r,i)?(s.buttonC.on=!1,s.buttonC.draw(n),s.blueLedLight.on=!1,s.blueLedLight.draw(n),void s.updateFirebase({blueLed:!1})):s.temperatureSensor.contains(r,i)?(h.system.temperatureGraph.setVisible(!h.system.temperatureGraph.isVisible()),h.system.temperatureGraph.isVisible()&&(h.system.temperatureGraph.draw(),h.system.temperatureGraph.bringForward()),void localStorage.setItem("Visible: "+h.system.temperatureGraph.getUid(),h.system.temperatureGraph.isVisible()?"true":"false")):s.barometricPressureSensor.contains(r,i)?(h.system.pressureGraph.setVisible(!h.system.pressureGraph.isVisible()),h.system.pressureGraph.isVisible()&&(h.system.pressureGraph.draw(),h.system.pressureGraph.bringForward()),void localStorage.setItem("Visible: "+h.system.pressureGraph.getUid(),h.system.pressureGraph.isVisible()?"true":"false")):void 0},s.mouseMove=function(e){e.preventDefault();var t=s.canvas.getBoundingClientRect(),r=e.clientX-t.x,i=e.clientY-t.y;if(s.redLedLight.contains(r,i))s.mouseOverObject=s.redLedLight,s.canvas.style.cursor="pointer";else if(s.greenLedLight.contains(r,i))s.mouseOverObject=s.greenLedLight,s.canvas.style.cursor="pointer";else if(s.blueLedLight.contains(r,i))s.mouseOverObject=s.blueLedLight,s.canvas.style.cursor="pointer";else if(s.buttonA.contains(r,i))s.mouseOverObject=s.buttonA,s.canvas.style.cursor="pointer";else if(s.buttonB.contains(r,i))s.mouseOverObject=s.buttonB,s.canvas.style.cursor="pointer";else if(s.buttonC.contains(r,i))s.mouseOverObject=s.buttonC,s.canvas.style.cursor="pointer";else if(s.temperatureSensor.contains(r,i))s.mouseOverObject=s.temperatureSensor,s.canvas.style.cursor="pointer";else if(s.barometricPressureSensor.contains(r,i))s.mouseOverObject=s.barometricPressureSensor,s.canvas.style.cursor="pointer";else if(s.handles[0].contains(r,i))s.mouseOverObject=s.handles[0],s.canvas.style.cursor="move";else if(s.handles[1].contains(r,i))s.mouseOverObject=s.handles[1],s.canvas.style.cursor="move";else if(s.handles[2].contains(r,i))s.mouseOverObject=s.handles[2],s.canvas.style.cursor="move";else if(s.handles[3].contains(r,i))s.mouseOverObject=s.handles[3],s.canvas.style.cursor="move";else{for(var n=!1,a=0;a<s.rgbLedLights.length;a++)if(s.rgbLedLights[a].contains(r,i)){s.mouseOverObject=s.rgbLedLights[a],s.canvas.style.cursor="pointer",n=!0;break}n||(s.mouseOverObject=null,s.canvas.style.cursor="default")}s.draw()},s.uid="Rainbow HAT",s.canvas.addEventListener("mousedown",s.mouseDown,!1),s.canvas.addEventListener("mouseup",s.mouseUp,!1),s.canvas.addEventListener("mousemove",s.mouseMove,!1),s.canvas.addEventListener("contextmenu",s.openContextMenu,!1),s.redLedLight=new n.LedLight(s,"LED Light","red",4,8,10,65,233,18,8),s.greenLedLight=new n.LedLight(s,"LED Light","green",4,8,10,147,233,18,8),s.blueLedLight=new n.LedLight(s,"LED Light","blue",4,8,10,230,233,18,8),s.buttonA=new a.Button(s,"Button A",38,245,72,24),s.buttonB=new a.Button(s,"Button B",120,245,72,24),s.buttonC=new a.Button(s,"Button C",203,245,72,24),s.buzzer=new i.Buzzer(s,"Piezo Buzzer",35,170,20,20),s.temperatureSensor=new o.Sensor(s,"Temperature","°C",152,108,12,12),s.barometricPressureSensor=new o.Sensor(s,"Pressure","hPa",187,115,20,10),s.rgbLedLights.push(new n.LedLight(s,"RGB LED Light","black",16,12,2,251,78,20,20)),s.rgbLedLights.push(new n.LedLight(s,"RGB LED Light","black",16,12,2,218,62,20,20)),s.rgbLedLights.push(new n.LedLight(s,"RGB LED Light","black",16,12,2,183,53,20,20)),s.rgbLedLights.push(new n.LedLight(s,"RGB LED Light","black",16,12,2,147,50,20,20)),s.rgbLedLights.push(new n.LedLight(s,"RGB LED Light","black",16,12,2,111,53,20,20)),s.rgbLedLights.push(new n.LedLight(s,"RGB LED Light","black",16,12,2,76,62,20,20)),s.rgbLedLights.push(new n.LedLight(s,"RGB LED Light","black",16,12,2,44,78,20,20)),s.alphanumericDisplays.push(new r.LedDisplay(s,"LED Display",34,214,33,65)),s.alphanumericDisplays.push(new r.LedDisplay(s,"LED Display",95,214,33,65)),s.alphanumericDisplays.push(new r.LedDisplay(s,"LED Display",156,214,33,65)),s.alphanumericDisplays.push(new r.LedDisplay(s,"LED Display",218,214,33,65)),s.decimalPointDisplays.push(new r.LedDisplay(s,"LED Display",78,214,33,65)),s.decimalPointDisplays.push(new r.LedDisplay(s,"LED Display",139,214,33,65)),s.decimalPointDisplays.push(new r.LedDisplay(s,"LED Display",200,214,33,65)),s.decimalPointDisplays.push(new r.LedDisplay(s,"LED Display",261,214,33,65));for(var d=0;d<s.decimalPointDisplays.length;d++)s.decimalPointDisplays[d].fontSize="40px";return s.handles.push(new l.Rectangle(5,5,30,30)),s.handles.push(new l.Rectangle(290,5,30,30)),s.handles.push(new l.Rectangle(290,250,30,30)),s.handles.push(new l.Rectangle(5,250,30,30)),s.boardImage=new Image,s.boardImage.src=g.default,s.setY(20),s.updateFromFirebase(),s}return e(s,t),s.prototype.setSelectedRgbLedLightColor=function(e){if(this.indexOfSelectedRgbLedLight>=0){this.rgbLedLights[this.indexOfSelectedRgbLedLight].color=e,this.draw();for(var t=[],s=0;s<this.rgbLedLights.length;s++){var r=[],i=u.Util.hexToRgb(this.rgbLedLights[s].color);r.push(i.r),r.push(i.g),r.push(i.b),t.push(r)}this.updateFirebase({rainbowRgb:t})}},s.prototype.draw=function(){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.save(),e.shadowOffsetX=8,e.shadowOffsetY=8,e.shadowColor="rgb(96, 96, 96)",e.shadowBlur=8,e.drawImage(this.boardImage,0,0),e.restore(),this.redLedLight.draw(e),this.greenLedLight.draw(e),this.blueLedLight.draw(e),this.buttonA.draw(e),this.buttonB.draw(e),this.buttonC.draw(e),this.buzzer.draw(e),this.temperatureSensor.draw(e),this.barometricPressureSensor.draw(e),this.drawToolTips();for(var t=0;t<this.rgbLedLights.length;t++)this.rgbLedLights[t].draw(e);for(t=0;t<this.alphanumericDisplays.length;t++)this.alphanumericDisplays[t].draw(e);for(t=0;t<this.decimalPointDisplays.length;t++)this.decimalPointDisplays[t].draw(e)},s.prototype.attach=function(e){t.prototype.attach.call(this,e),null!=e?(this.setX(e.getX()),this.setY(e.getY()),localStorage.setItem("Attached: "+this.getUid(),"0")):localStorage.setItem("Attached: "+this.getUid(),"-1")},s.prototype.drawToolTips=function(){var e=this.canvas.getContext("2d"),t=0,s=-25;this.mouseOverObject==this.redLedLight?(t+=this.redLedLight.x+this.redLedLight.width/2,s+=this.redLedLight.y,e.drawTooltip(t,s,20,8,10,"Red LED light",!0)):this.mouseOverObject==this.greenLedLight?(t+=this.greenLedLight.x+this.greenLedLight.width/2,s+=this.greenLedLight.y,e.drawTooltip(t,s,20,8,10,"Green LED light",!0)):this.mouseOverObject==this.blueLedLight?(t+=this.blueLedLight.x+this.blueLedLight.width/2,s+=this.blueLedLight.y,e.drawTooltip(t,s,20,8,10,"Blue LED light",!0)):this.mouseOverObject==this.buttonA?(t+=this.buttonA.x+this.buttonA.width/2,s+=this.buttonA.y,e.drawTooltip(t,s,20,8,10,"Button A",!0)):this.mouseOverObject==this.buttonB?(t+=this.buttonB.x+this.buttonB.width/2,s+=this.buttonB.y,e.drawTooltip(t,s,20,8,10,"Button B",!0)):this.mouseOverObject==this.buttonC?(t+=this.buttonC.x+this.buttonC.width/2,s+=this.buttonC.y,e.drawTooltip(t,s,20,8,10,"Button C",!0)):this.mouseOverObject==this.temperatureSensor?(t+=this.temperatureSensor.x+this.temperatureSensor.width/2,s+=this.temperatureSensor.y,e.drawTooltip(t,s,20,8,10,"Temperature sensor",!0)):this.mouseOverObject==this.barometricPressureSensor?(t+=this.barometricPressureSensor.x+this.barometricPressureSensor.width/2,s+=this.barometricPressureSensor.y,e.drawTooltip(t,s,20,8,10,"Barometric pressure sensor",!0)):this.mouseOverObject==this.handles[0]?(this.drawHandle(this.mouseOverObject,e),t+=this.handles[0].getXmax()+20,s+=this.handles[0].getYmax()+30,e.drawTooltip(t,s,20,8,10,"Upper-left handle",!0)):this.mouseOverObject==this.handles[1]?(this.drawHandle(this.mouseOverObject,e),t+=this.handles[1].getXmin()-30,s+=this.handles[1].getYmax()+30,e.drawTooltip(t,s,20,8,10,"Upper-right handle",!0)):this.mouseOverObject==this.handles[2]?(this.drawHandle(this.mouseOverObject,e),t+=this.handles[2].getXmin()-30,s+=this.handles[2].getYmin()-5,e.drawTooltip(t,s,20,8,10,"Lower-right handle",!0)):this.mouseOverObject==this.handles[3]&&(this.drawHandle(this.mouseOverObject,e),t+=this.handles[3].getXmax()+20,s+=this.handles[3].getYmin()-5,e.drawTooltip(t,s,20,8,10,"Lower-left handle",!0))},s.prototype.updateFirebase=function(e){d.System.database.ref(this.stateId).update(e)},s.prototype.updateFromFirebase=function(){var e=this;d.System.database.ref().on("value",function(t){t.forEach(function(t){var s=t.val();if(e.redLedLight.on=s.redLed,e.greenLedLight.on=s.greenLed,e.blueLedLight.on=s.blueLed,e.redLedLight.on&&e.buzzer.beepButton("A"),e.greenLedLight.on&&e.buzzer.beepButton("B"),e.blueLedLight.on&&e.buzzer.beepButton("C"),s.rainbowRgb)for(var r=0;r<e.rgbLedLights.length;r++){var i=s.rainbowRgb[r][0],n=s.rainbowRgb[r][1],a=s.rainbowRgb[r][2];e.rgbLedLights[r].on=i>0||n>0||a>0,e.rgbLedLights[r].color=u.Util.rgbToHex(i,n,a)}if(s.allowTemperatureTransmission){e.temperatureSensor.collectionInterval=s.sensorDataCollectionInterval?.001*s.sensorDataCollectionInterval:1,e.temperatureSensor.data.push(s.temperature),h.system.temperatureGraph.draw(),(r=(l=s.temperature.toString()).indexOf("."))>0&&r<4&&e.decimalPointDisplays[r-1].setCharacter(".");var o=l.substring(0,r),d=l.substring(r+1);for(l=(o+d).substr(0,4),r=0;r<4;r++)e.alphanumericDisplays[r].setCharacter(l[r])}if(s.allowBarometricPressureTransmission){var l;e.barometricPressureSensor.collectionInterval=s.sensorDataCollectionInterval?.001*s.sensorDataCollectionInterval:1,e.barometricPressureSensor.data.push(s.barometricPressure),h.system.pressureGraph.draw(),(r=(l=s.barometricPressure.toString()).indexOf("."))>0&&r<4&&e.decimalPointDisplays[r-1].setCharacter(".");o=l.substring(0,r),d=l.substring(r+1);for(l=(o+d).substr(0,4),r=0;r<4;r++)e.alphanumericDisplays[r].setCharacter(l[r])}e.draw()})})},s}(s.Hat);exports.RainbowHat=L;
},{"./Hat":"crzz","./LedDisplay":"vA16","./Buzzer":"lpHZ","./LedLight":"aPO1","./Button":"YLVB","./Sensor":"pqDF","../System":"mq6L","../Main":"XE2v","../Util":"iq1x","../math/Rectangle":"tA44","../tools/ColorPicker":"RQah","../img/rainbow-hat.png":"XDBg"}],"RQGa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../Util"),e=require("../math/Rectangle"),i=function(){function i(t,i){var s=this;this.minimumValue=0,this.maximumValue=1,this.autoscale=!0,this.xAxisLabel="Time (s)",this.yAxisLabel="Temperature (°C)",this.graphWindowColor="white",this.titleBarColor="lightgray",this.margin={left:40,right:25,top:40,bottom:40},this.titleBarHeight=24,this.closeButton=new e.Rectangle(0,0,14,14),this.clearButton=new e.Rectangle(0,0,14,14),this.onMouseMove=function(t){t.preventDefault();var e=s.canvas.getBoundingClientRect(),i=t.clientX-e.x,n=t.clientY-e.y;s.canvas.getContext("2d");s.selectedButton=null,s.closeButton.contains(i,n)?(s.canvas.style.cursor="pointer",s.selectedButton=s.closeButton):s.clearButton.contains(i,n)?(s.canvas.style.cursor="pointer",s.selectedButton=s.clearButton):s.handle.contains(i,n)?s.canvas.style.cursor="move":s.canvas.style.cursor="default",s.draw()},this.onMouseLeave=function(t){t.preventDefault(),s.draw()},this.onTouchMove=function(t){t.preventDefault()},this.onMouseClick=function(t){t.preventDefault();var e=s.canvas.getBoundingClientRect(),i=t.clientX-e.x,n=t.clientY-e.y;s.closeButton.contains(i,n)?(s.setVisible(!1),localStorage.setItem("Visible: "+s.getUid(),"false")):s.clearButton.contains(i,n)?s.sensor.data.length=0:s.bringForward()},this.onMouseDoubleClick=function(t){t.preventDefault()},this.openContextMenu=function(t){t.preventDefault();var e=document.getElementById("linechart-context-menu");e.style.left=t.clientX+"px",e.style.top=t.clientY-document.getElementById("tabs").getBoundingClientRect().bottom+"px",e.classList.add("show-menu")},this.uid=i.name+" graph",this.canvas=document.getElementById(t),this.sensor=i,this.yAxisLabel=i.name+" ("+i.unit+")",this.handle=new e.Rectangle(0,0,this.canvas.width,this.titleBarHeight),this.closeButton.x=this.canvas.width-this.closeButton.width-4,this.closeButton.y+=4,this.clearButton.x=this.canvas.width-2*(this.clearButton.width+4),this.clearButton.y+=4}return i.prototype.getUid=function(){return this.uid},i.prototype.setVisible=function(t){this.canvas.style.display=t?"block":"none",this.visible=t},i.prototype.isVisible=function(){return this.visible},i.prototype.onHandle=function(t,e){return this.handle.contains(t,e)},i.prototype.draw=function(){this.canvas.addEventListener("click",this.onMouseClick,!1),this.canvas.addEventListener("dblclick",this.onMouseDoubleClick,!1),this.canvas.addEventListener("mousemove",this.onMouseMove,!1),this.canvas.addEventListener("mouseleave",this.onMouseLeave,!1),this.canvas.addEventListener("touchmove",this.onTouchMove,!1),this.canvas.addEventListener("contextmenu",this.openContextMenu,!1);var t=this.canvas.getContext("2d");t.fillStyle="white",t.fillRect(0,0,this.canvas.width,this.canvas.height),this.sensor.data&&(this.drawGraphWindow(t),this.drawAxisLabels(t),this.sensor.data.length>1&&this.drawLineCharts(t)),this.drawTitleBar(t),this.drawToolTips(t)},i.prototype.drawLineCharts=function(e){var i=Number.MAX_VALUE,s=-i;if(this.autoscale)for(var n=0;n<this.sensor.data.length;n++)this.sensor.data[n]>s&&(s=this.sensor.data[n]),this.sensor.data[n]<i&&(i=this.sensor.data[n]);else i=this.minimumValue,s=this.maximumValue;var a=this.canvas.width-this.margin.left-this.margin.right,o=this.canvas.height-this.margin.bottom-this.margin.top,h=a/(this.sensor.data.length-1),r=.1*o,l=(o-2*r)/(s-i);e.lineWidth=1,e.strokeStyle="black",e.font="10px Arial",e.fillStyle="black",e.beginPath();var c=this.canvas.height-this.margin.bottom,u=this.margin.left,d=r+(this.sensor.data[0]-i)*l;e.moveTo(u,c-d),e.fillText("0",u-4,c+10);for(n=1;n<this.sensor.data.length;n++)u=this.margin.left+h*n,d=r+(this.sensor.data[n]-i)*l,e.lineTo(u,c-d);e.stroke();for(n=0;n<this.sensor.data.length;n++)u=this.margin.left+h*n,d=r+(this.sensor.data[n]-i)*l,e.beginPath(),e.arc(u,c-d,3,0,2*Math.PI),e.closePath(),e.fillStyle="white",e.fill(),e.fillStyle="black",e.stroke();var v=this.sensor.data.length*this.sensor.collectionInterval,f=Math.pow(10,t.Util.countDigits(Math.round(v))-1);for(n=0;n<this.sensor.data.length;n++){var g=n*this.sensor.collectionInterval;Math.abs(g-Math.floor(g))<1e-4&&(g%f==0||v<10)&&(u=this.margin.left+h*n,e.beginPath(),e.moveTo(u,c),e.lineTo(u,c-4),e.stroke(),e.fillText(g.toString(),u-4,c+10))}d=r;var p=i.toFixed(2);e.beginPath(),e.moveTo(this.margin.left,c-d),e.lineTo(this.margin.left+4,c-d),e.stroke(),e.save(),e.translate(this.margin.left-10,c-d+e.measureText(p).width/2),e.rotate(-Math.PI/2),e.fillText(p,0,0),e.restore(),d=r+(s-i)*l;var m=s.toFixed(2);e.beginPath(),e.moveTo(this.margin.left,c-d),e.lineTo(this.margin.left+4,c-d),e.stroke(),e.save(),e.translate(this.margin.left-10,c-d+e.measureText(m).width/2),e.rotate(-Math.PI/2),e.fillText(m,0,0),e.restore()},i.prototype.drawAxisLabels=function(t){var e=this.canvas.width-this.margin.left-this.margin.right,i=this.canvas.height-this.margin.bottom;t.font="15px Arial",t.fillStyle="black",t.fillText(this.xAxisLabel,this.margin.left+e/2-t.measureText(this.xAxisLabel).width/2,i+30),t.save(),t.translate(20,this.canvas.height/2+t.measureText(this.yAxisLabel).width/2),t.rotate(-Math.PI/2),t.fillText(this.yAxisLabel,0,0),t.restore()},i.prototype.drawGraphWindow=function(t){var e=this.canvas,i=this.margin;t.strokeStyle="black",t.lineWidth=2,t.beginPath(),t.rect(i.left,i.top,e.width-i.left-i.right,e.height-i.top-i.bottom),t.stroke(),t.fillStyle=this.graphWindowColor,t.fillRect(i.left,i.top,e.width-i.left-i.right,e.height-i.top-i.bottom)},i.prototype.drawTitleBar=function(t){t.fillStyle=this.titleBarColor,t.fillRect(0,0,this.canvas.width,24),t.fillStyle="black",t.lineWidth=1,t.beginPath(),t.moveTo(0,24),t.lineTo(this.canvas.width,this.titleBarHeight),t.stroke(),this.drawButton(t,this.closeButton),this.drawButton(t,this.clearButton)},i.prototype.drawButton=function(t,e){t.beginPath(),t.rect(e.x,e.y,e.width,e.height),t.stroke(),t.lineWidth=.5,e==this.closeButton?(t.moveTo(e.x+2,e.y+2),t.lineTo(e.x+e.width-2,e.y+e.height-2),t.moveTo(e.x+e.width-2,e.y+2),t.lineTo(e.x+2,e.y+e.height-2)):e==this.clearButton&&(t.moveTo(e.x+2,e.getCenterY()),t.lineTo(e.x+e.width-2,e.getCenterY())),t.stroke()},i.prototype.drawToolTips=function(t){switch(this.selectedButton){case this.closeButton:t.drawTooltip(this.closeButton.getCenterX()-20,this.closeButton.getCenterY()+20,20,8,10,"Close",!0);break;case this.clearButton:t.drawTooltip(this.clearButton.getCenterX()-20,this.clearButton.getCenterY()+20,20,8,10,"Clear",!0)}},i.prototype.bringForward=function(){this.canvas.style.zIndex=(parseInt(this.canvas.style.zIndex)+2).toString()},i.prototype.getX=function(){return this.canvas.offsetLeft},i.prototype.setX=function(t){this.canvas.style.left=t+"px"},i.prototype.getY=function(){return this.canvas.offsetTop},i.prototype.setY=function(t){this.canvas.style.top=t+"px"},i.prototype.getWidth=function(){return this.canvas.width},i.prototype.getHeight=function(){return this.canvas.height},i.prototype.contains=function(t,e){return t>this.canvas.offsetLeft&&t<this.canvas.offsetLeft+this.canvas.width&&e>this.canvas.offsetTop&&e<this.canvas.offsetTop+this.canvas.height},i}();exports.LineChart=i;
},{"../Util":"iq1x","../math/Rectangle":"tA44"}],"mq6L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Workbench"),t=require("./components/RaspberryPi"),r=require("./components/RainbowHat"),a=require("./tools/LineChart"),s=function(){function s(){var o=this;if(this.mouseDown=function(e){e.preventDefault();var t=o.playground.getBoundingClientRect(),r=e.clientX-t.x,a=e.clientY-t.y;o.rainbowHat.whichHandle(r-o.rainbowHat.getX(),a-o.rainbowHat.getY())>=0?o.selectedMovable=o.rainbowHat:o.temperatureGraph.isVisible()&&o.temperatureGraph.onHandle(r-o.temperatureGraph.getX(),a-o.temperatureGraph.getY())?o.selectedMovable=o.temperatureGraph:o.pressureGraph.isVisible()&&o.pressureGraph.onHandle(r-o.pressureGraph.getX(),a-o.pressureGraph.getY())?o.selectedMovable=o.pressureGraph:o.raspberryPi.whichHandle(r-o.raspberryPi.getX(),a-o.raspberryPi.getY())>=0?o.selectedMovable=o.raspberryPi:o.selectedMovable=null,null!=o.selectedMovable&&(o.mouseDownRelativeX=e.clientX-o.selectedMovable.getX(),o.mouseDownRelativeY=e.clientY-o.selectedMovable.getY())},this.mouseUp=function(e){e.preventDefault(),o.selectedMovable=null;var t=document.getElementById("workbench-context-menu");t.classList.remove("show-menu"),(t=document.getElementById("raspberry-pi-context-menu")).classList.remove("show-menu"),(t=document.getElementById("rainbow-hat-context-menu")).classList.remove("show-menu"),(t=document.getElementById("linechart-context-menu")).classList.remove("show-menu"),(t=document.getElementById("colorpicker-context-menu")).classList.remove("show-menu")},this.mouseLeave=function(e){e.preventDefault(),o.selectedMovable=null},this.mouseMove=function(e){e.preventDefault(),null!=o.selectedMovable&&(o.moveTo(e.clientX,e.clientY,o.selectedMovable),o.storeLocation(o.selectedMovable))},!s.database){firebase.initializeApp({apiKey:"${process.env.FIREBASE_API_KEY}",authDomain:"${process.env.AUTH_DOMAIN}",projectId:"${process.env.PROJECT_ID}",storageBucket:"${process.env.STORAGE_BUCKET}",messagingSenderId:"${process.env.MESSAGING_SENDER_ID}",databaseURL:"https://raspberry-pi-java.firebaseio.com"}),s.database=firebase.database()}this.workbench=new e.Workbench("workbench"),this.raspberryPi=new t.RaspberryPi("raspberry-pi"),this.rainbowHat=new r.RainbowHat("rainbow-hat"),this.temperatureGraph=new a.LineChart("temperature-linechart",this.rainbowHat.temperatureSensor),this.pressureGraph=new a.LineChart("pressure-linechart",this.rainbowHat.barometricPressureSensor),this.playground=document.getElementById("digital-twins-playground"),this.playground.addEventListener("mousedown",this.mouseDown,!1),this.playground.addEventListener("mouseup",this.mouseUp,!1),this.playground.addEventListener("mousemove",this.mouseMove,!1),document.addEventListener("mouseleave",this.mouseLeave,!1)}return s.prototype.draw=function(){this.workbench.draw(),this.raspberryPi.draw(),this.rainbowHat.draw()},s.prototype.storeLocation=function(e){localStorage.setItem("X: "+e.getUid(),e.getX().toString()),localStorage.setItem("Y: "+e.getUid(),e.getY().toString()),e instanceof r.RainbowHat?null!=e.raspberryPi&&(localStorage.setItem("X: "+e.raspberryPi.getUid(),e.raspberryPi.getX().toString()),localStorage.setItem("Y: "+e.raspberryPi.getUid(),e.raspberryPi.getY().toString())):e instanceof t.RaspberryPi&&null!=e.hat&&(localStorage.setItem("X: "+e.hat.getUid(),e.hat.getX().toString()),localStorage.setItem("Y: "+e.hat.getUid(),e.hat.getY().toString()))},s.prototype.moveTo=function(e,a,s){var o=e-this.mouseDownRelativeX,n=a-this.mouseDownRelativeY,i=this.workbench.getX()+this.workbench.getWidth()-s.getWidth();o<this.workbench.getX()?o=this.workbench.getX():o>i&&(o=i);var l=this.workbench.getY()+this.workbench.getHeight()-s.getHeight();n<this.workbench.getY()?n=this.workbench.getY():n>l&&(n=l),s.setX(o),s.setY(n),s instanceof r.RainbowHat?null!=s.raspberryPi&&(s.raspberryPi.setX(s.getX()),s.raspberryPi.setY(s.getY())):s instanceof t.RaspberryPi&&null!=s.hat&&(s.hat.setX(s.getX()),s.hat.setY(s.getY()))},s}();exports.System=s;
},{"./Workbench":"tHeT","./components/RaspberryPi":"ZYSZ","./components/RainbowHat":"oWFe","./tools/LineChart":"RQGa"}],"Vhwk":[function(require,module,exports) {
module.exports="/sense-hat.6fc74c4e.png";
},{}],"pi43":[function(require,module,exports) {
module.exports="/unicorn-hat.9c2a3f2a.png";
},{}],"YWkc":[function(require,module,exports) {
module.exports="/crickit-hat.c34685e8.png";
},{}],"nM5r":[function(require,module,exports) {
module.exports="/capacitive-touch-hat.a3b76271.png";
},{}],"D8EI":[function(require,module,exports) {
module.exports="/pan-tilt-hat.2c4957c8.png";
},{}],"waPx":[function(require,module,exports) {
module.exports="/full-breadboard.0a97a6b4.png";
},{}],"YWAc":[function(require,module,exports) {
module.exports="/half-breadboard.fe3de78c.png";
},{}],"ICYM":[function(require,module,exports) {
module.exports="/red-led-light.af4dbbcc.png";
},{}],"VwEK":[function(require,module,exports) {
module.exports="/green-led-light.42b5efc7.png";
},{}],"jcU7":[function(require,module,exports) {
module.exports="/blue-led-light.e37f6114.png";
},{}],"G5TY":[function(require,module,exports) {
module.exports="/tricolor-led-light.f359bdb7.png";
},{}],"j9q0":[function(require,module,exports) {
module.exports="/momentary-button.96baed16.png";
},{}],"lGYO":[function(require,module,exports) {
module.exports="/toggle-switch.2964315e.png";
},{}],"gcMa":[function(require,module,exports) {
module.exports="/piezo-buzzer.f797e666.png";
},{}],"lQXm":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./img/raspberry-pi.png")),t=e(require("./img/rainbow-hat.png")),i=e(require("./img/sense-hat.png")),l=e(require("./img/unicorn-hat.png")),a=e(require("./img/crickit-hat.png")),n=e(require("./img/capacitive-touch-hat.png")),s=e(require("./img/pan-tilt-hat.png")),o=e(require("./img/full-breadboard.png")),d=e(require("./img/half-breadboard.png")),g=e(require("./img/red-led-light.png")),u=e(require("./img/green-led-light.png")),c=e(require("./img/blue-led-light.png")),p=e(require("./img/tricolor-led-light.png")),h=e(require("./img/momentary-button.png")),m=e(require("./img/toggle-switch.png")),b=e(require("./img/piezo-buzzer.png")),x=function(){function e(){}return e.prototype.getUi=function(){return'<h2 style="text-align: center; vertical-align: top; margin-top: 0;">\n                <span style="font-size: 1.2em; color: teal; vertical-align: middle;"><i class="fas fa-cubes"></i></span> Components</h2>\n            <hr>\n            <div id="components-scroller" style="overflow-y: auto; height: 360px;">\n              <h3 style="text-align: left"><span style="font-size: 1.2em; color: teal; vertical-align: middle"><i class="fas fa-cube"></i></span> Microcontrollers</h3>\n              <div class="row" style="margin-right: 10px; background-color: lightskyblue; border: 1px solid #b81900; border-radius: 4px">\n                <div class="column">\n                  <img src="'+r.default+'" draggable="true" id="raspberry-pi-image" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Raspberry Pi">\n                </div>\n              </div>\n              <div class="vertical-divider"></div>\n              <h3 style="text-align: left"><span style="font-size: 1.2em; color: teal; vertical-align: middle"><i class="fas fa-cube"></i></span> HATs</h3>\n              <div class="row" style="margin-right: 10px;  background-color: lightblue; border: 1px solid #b81900; border-radius: 4px">\n                <div class="column">\n                  <img src="'+t.default+'" draggable="true" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Rainbow HAT">\n                  <img src="'+i.default+'" draggable="true" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Sense HAT">\n                  <img src="'+n.default+'" draggable="true" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Capacitive Touch HAT">\n               </div>\n                <div class="column">\n                  <img src="'+l.default+'" draggable="true" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Unicorn HAT">\n                  <img src="'+a.default+'" draggable="true" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Crickit HAT">\n                  <img src="'+s.default+'" draggable="true" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Pan-Tilt HAT">\n               </div>\n              </div>\n              <div class="vertical-divider"></div>\n              <h3 style="text-align: left"><span style="font-size: 1.2em; color: teal; vertical-align: middle"><i class="fas fa-cube"></i></span> Others</h3>\n              <div class="row" style="margin-right: 10px;  background-color: lightyellow; border: 1px solid #b81900; border-radius: 4px">\n                <div class="column">\n                  <img src="'+o.default+'" draggable="true" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Full Breadboard">\n                  <img src="'+g.default+'" draggable="true" style="width:100%; cursor: pointer;" title="Red LED Light">\n                  <img src="'+u.default+'" draggable="true" style="width:100%; cursor: pointer;" title="Green LED Light">\n                  <img src="'+c.default+'" draggable="true" style="width:100%; cursor: pointer;" title="Blue LED Light">\n                 <img src="'+p.default+'" draggable="true" style="width:100%; cursor: pointer;" title="Tricolor LED Light">\n                </div>\n                <div class="column">\n                  <img src="'+d.default+'" draggable="true" style="width:100%; cursor: pointer; box-shadow: 5px 5px 5px gray;" title="Half Breadboard">\n                  <img src="'+h.default+'" draggable="true" style="width:100%; cursor: pointer;" title="Momentary Button">\n                  <img src="'+m.default+'" draggable="true" style="width:100%; cursor: pointer;" title="Toggle Switch">\n                  <img src="'+b.default+'" draggable="true" style="width:100%; cursor: pointer;" title="Piezo Buzzer">\n                </div>\n              </div>\n            </div>'},e.prototype.render=function(e){document.getElementById(e).innerHTML=this.getUi()},e}();exports.ComponentsPanel=x;
},{"./img/raspberry-pi.png":"xV4y","./img/rainbow-hat.png":"XDBg","./img/sense-hat.png":"Vhwk","./img/unicorn-hat.png":"pi43","./img/crickit-hat.png":"YWkc","./img/capacitive-touch-hat.png":"nM5r","./img/pan-tilt-hat.png":"D8EI","./img/full-breadboard.png":"waPx","./img/half-breadboard.png":"YWAc","./img/red-led-light.png":"ICYM","./img/green-led-light.png":"VwEK","./img/blue-led-light.png":"jcU7","./img/tricolor-led-light.png":"G5TY","./img/momentary-button.png":"j9q0","./img/toggle-switch.png":"lGYO","./img/piezo-buzzer.png":"gcMa"}],"Y1Zb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./Main"),n=function(){function n(){}return n.prototype.getUi=function(){return'<menu id="rainbow-hat-context-menu" class="menu" style="width: 120px; z-index: 10000">\n              <li class="menu-item" id="rainbow-hat-attach-menu-item">\n                <button type="button" class="menu-btn" id="rainbow-hat-attach-button"><i class="fas fa-angle-double-down"></i><span class="menu-text">Attach</span></button>\n              </li>\n              <li class="menu-item" id="rainbow-hat-detach-menu-item">\n                <button type="button" class="menu-btn" id="rainbow-hat-detach-button"><i class="fas fa-angle-double-up"></i><span class="menu-text">Detach</span></button>\n              </li>\n              <li class="menu-item">\n                <button type="button" class="menu-btn"><i class="fas fa-code"></i><span class="menu-text">Code</span></button>\n              </li>\n            </menu>'},n.prototype.render=function(t){document.getElementById(t).innerHTML=this.getUi()},n.prototype.addListeners=function(){document.getElementById("rainbow-hat-attach-button").addEventListener("click",this.attachButtonClick.bind(this),!1),document.getElementById("rainbow-hat-detach-button").addEventListener("click",this.detachButtonClick.bind(this),!1)},n.prototype.attachButtonClick=function(n){n.preventDefault(),document.getElementById("rainbow-hat-context-menu").classList.remove("show-menu"),t.system.rainbowHat.attach(t.system.raspberryPi)},n.prototype.detachButtonClick=function(n){n.preventDefault(),console.log("detach"),document.getElementById("rainbow-hat-context-menu").classList.remove("show-menu"),t.system.rainbowHat.attach(null)},n}();exports.RainbowHatContextMenu=n;
},{"./Main":"XE2v"}],"hucW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(){}return n.prototype.getUi=function(){return'<menu id="workbench-context-menu" class="menu" style="width: 120px; z-index: 10000">\n              <li class="menu-item">\n                <button type="button" class="menu-btn"><i class="fas fa-folder-open"></i><span class="menu-text">Open</span></button>\n              </li>\n              <li class="menu-item disabled">\n                <button type="button" class="menu-btn"><i class="fas fa-download"></i><span class="menu-text">Save</span></button>\n              </li>\n              <li class="menu-separator"></li>\n              <li class="menu-item">\n                <button type="button" class="menu-btn"><i class="fas fa-trash"></i><span class="menu-text">Delete</span></button>\n              </li>\n              <li class="menu-item submenu">\n                <button type="button" class="menu-btn"><i class="fas fa-file-import"></i><span class="menu-text">Import</span></button>\n\n                <menu class="menu" style="width: 160px;">\n                  <li class="menu-item">\n                    <button type="button" class="menu-btn"><span class="menu-text">Breadboard</span></button>\n                  </li>\n\n                  <li class="menu-item submenu">\n                    <button type="button" class="menu-btn"><span class="menu-text">Sensors</span></button>\n                    <menu class="menu" style="width: 120px;">\n                      <li class="menu-item">\n                        <button type="button" class="menu-btn"><span class="menu-text">BME280</span></button>\n                      </li>\n                      <li class="menu-item">\n                        <button type="button" class="menu-btn"><span class="menu-text">TSL2561</span></button>\n                      </li>\n                      <li class="menu-item">\n                        <button type="button" class="menu-btn"><span class="menu-text">HCSR04</span></button>\n                      </li>\n                    </menu>\n                  </li>\n\n                  <li class="menu-item submenu">\n                    <button type="button" class="menu-btn"><span class="menu-text">Actuators</span></button>\n                    <menu class="menu" style="width: 180px;">\n                      <li class="menu-item">\n                        <button type="button" class="menu-btn"><span class="menu-text">Buzzer</span></button>\n                      </li>\n                      <li class="menu-item">\n                        <button type="button" class="menu-btn"><span class="menu-text">Servo Motor</span></button>\n                      </li>\n                      <li class="menu-item">\n                        <button type="button" class="menu-btn"><span class="menu-text">LED Light</span></button>\n                      </li>\n                      <li class="menu-item">\n                        <button type="button" class="menu-btn"><span class="menu-text">Multicolor LED Light</span></button>\n                      </li>\n                    </menu>\n                  </li>\n\n                </menu>\n              </li>\n            </menu>'},n.prototype.render=function(n){document.getElementById(n).innerHTML=this.getUi()},n}();exports.WorkbenchContextMenu=n;
},{}],"ZWjg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(){}return t.prototype.getUi=function(){return'<menu id="linechart-context-menu" class="menu" style="z-index: 10000">\n              <li class="menu-item">\n                <button type="button" class="menu-btn"><i class="fas fa-palette"></i><span class="menu-text">Colors</span></button>\n              </li>\n              <li class="menu-item">\n                <button type="button" class="menu-btn"><i class="fas fa-cog"></i><span class="menu-text">Options</span></button>\n              </li>\n            </menu>'},t.prototype.render=function(t){document.getElementById(t).innerHTML=this.getUi()},t}();exports.LineChartContextMenu=t;
},{}],"KHcM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(){}return e.prototype.getUi=function(){return'<menu id="raspberry-pi-context-menu" class="menu" style="width: 120px; z-index: 10000">\n              <li class="menu-item">\n                <button type="button" class="menu-btn"><i class="fas fa-cogs"></i><span class="menu-text">Settings</span></button>\n              </li>\n            </menu>'},e.prototype.render=function(e){document.getElementById(e).innerHTML=this.getUi()},e}();exports.RaspberryPiContextMenu=e;
},{}],"p20I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Main"),t=function(){function t(){}return t.prototype.getUi=function(){return'<menu id="colorpicker-context-menu" class="menu" style="width: 338px; z-index: 10000">\n              <li class="menu-item">\n                <div id="colorpicker-title" style="text-align: center; padding: 4px; font-family: inherit; font-size: 14px;"></div>\n                <div id="colorpicker" style="cursor: crosshair; margin: 1px 1px 1px 1px">\n                  <canvas id="color-block" height="300" width="300"></canvas>\n                  <canvas id="color-strip" height="300" width="30"></canvas>\n                </div>\n                <div style="display: table; margin: auto; padding: 5px 5px 5px 5px;">\n                  <input type="text" readonly id="colorpicker-hex-code" value="#FFFFFF" style="width: 60px; height: 20px; border: 1px solid black; vertical-align: middle; text-align: center; font: 12px Verdana;">\n                  <div class="horizontal-divider"></div>\n                  <div id="colorpicker-label" style="vertical-align: middle; width: 20px; height: 20px; border: 2px solid black; display: inline-block;"></div>\n                  <div class="horizontal-divider"></div>\n                  <button id="colorpicker-cancel-button" style="font: 12px Verdana">Cancel</button>\n                  <div class="horizontal-divider"></div>\n                  <button id="colorpicker-ok-button" style="font: 12px Verdana">OK</button>\n                </div>\n              </li>\n            </menu>'},t.prototype.render=function(t){document.getElementById(t).innerHTML=this.getUi(),document.getElementById("colorpicker-cancel-button").onclick=function(){document.getElementById("colorpicker-context-menu").classList.remove("show-menu")},document.getElementById("colorpicker-ok-button").onclick=function(){e.system.rainbowHat.setSelectedRgbLedLightColor(e.system.colorPicker.getSelectedColor()),document.getElementById("colorpicker-context-menu").classList.remove("show-menu")}},t}();exports.ColorPickerContextMenu=t;
},{"./Main":"XE2v"}],"IkVP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i,h,s,e){this.radius=10,this.margin=30,this.x=t,this.y=i,this.width=h,this.height=s,this.name=e}return t.prototype.draw=function(t){t.fillStyle="lightgray",t.fillRoundedRect(this.x,this.y,this.width,this.height,this.radius),t.lineWidth=1,t.strokeStyle="black",t.drawRoundedRect(this.x,this.y,this.width,this.height,this.radius),t.fillStyle="white",t.beginPath(),t.rect(this.x+this.margin,this.y+this.margin,this.width-2*this.margin,this.height-2*this.margin),t.closePath(),t.fill(),t.strokeStyle="black",t.stroke(),t.fillStyle="black",t.font="20px Arial";var i=t.measureText(this.name);t.fillText(this.name,this.x+this.width/2-i.width/2,this.y+this.height/2+8);t.beginPath(),t.arc(this.x,this.y+this.height/3,8,.5*Math.PI,1.5*Math.PI,!1),t.stroke(),t.beginPath(),t.arc(this.x,this.y+2*this.height/3,8,.5*Math.PI,1.5*Math.PI,!1),t.stroke(),t.beginPath(),t.arc(this.x+this.width,this.y+this.height/2,8,.5*Math.PI,1.5*Math.PI,!0),t.stroke()},t}();exports.Block=t;
},{}],"vH8V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t}();exports.Point=t;
},{}],"vqVi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./Block"),e=require("../math/Point"),n=function(){function n(e){this.blocks=[],this.canvas=document.getElementById(e),this.canvas.addEventListener("mousedown",this.mouseDown.bind(this),!1),this.canvas.addEventListener("mouseup",this.mouseUp.bind(this),!1),this.canvas.addEventListener("mousemove",this.mouseMove.bind(this),!1),this.canvas.addEventListener("contextmenu",this.openContextMenu.bind(this),!1),this.blocks.push(new t.Block(20,20,160,100,"X + Y")),this.blocks.push(new t.Block(220,220,160,100,"X * Y"))}return n.prototype.draw=function(){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height);for(var n=0;n<this.blocks.length;n++)this.blocks[n].draw(t);var o=[];o.push(new e.Point(188,70)),o.push(new e.Point(240,140)),o.push(new e.Point(20,200)),o.push(new e.Point(212,288)),this.drawSpline(o,t)},n.prototype.drawSpline=function(t,e){var n;for(e.beginPath(),e.moveTo(t[0].x,t[0].y),n=1;n<t.length-2;n++){var o=(t[n].x+t[n+1].x)/2,s=(t[n].y+t[n+1].y)/2;e.quadraticCurveTo(t[n].x,t[n].y,o,s)}e.quadraticCurveTo(t[n].x,t[n].y,t[n+1].x,t[n+1].y),e.stroke()},n.prototype.contains=function(t,e){return t>this.canvas.offsetLeft&&t<this.canvas.offsetLeft+this.canvas.width&&e>this.canvas.offsetTop&&e<this.canvas.offsetTop+this.canvas.height},n.prototype.getX=function(){return 10},n.prototype.getY=function(){return 10},n.prototype.getWidth=function(){return this.canvas.width},n.prototype.getHeight=function(){return this.canvas.height},n.prototype.mouseDown=function(t){t.preventDefault();var e=this.canvas.getBoundingClientRect();t.clientX,e.x,t.clientY,e.y},n.prototype.mouseUp=function(t){t.preventDefault();var e=this.canvas.getBoundingClientRect();t.clientX,e.x,t.clientY,e.y,this.canvas.getContext("2d")},n.prototype.mouseMove=function(t){t.preventDefault();var e=this.canvas.getBoundingClientRect();t.clientX,e.x,t.clientY,e.y,this.canvas.getContext("2d")},n.prototype.openContextMenu=function(t){t.preventDefault();var e=document.getElementById("workbench-context-menu");e.style.left=t.clientX+"px",e.style.top=t.clientY-document.getElementById("tabs").getBoundingClientRect().bottom+"px",e.classList.add("show-menu")},n}();exports.Codespace=n;
},{"./Block":"IkVP","../math/Point":"vH8V"}],"Ubvy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Codespace"),o=function(){function o(){this.codespace=new e.Codespace("codespace")}return o.prototype.draw=function(){this.codespace.draw()},o}();exports.Code=o;
},{"./Codespace":"vqVi"}],"XE2v":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(exports,"__esModule",{value:!0}),require("@fortawesome/fontawesome-free/css/all.css");var t=e(require("./Constants")),n=require("./User"),r=require("./System"),a=require("./ComponentsPanel"),o=require("./RainbowHatContextMenu"),s=require("./WorkbenchContextMenu"),i=require("./LineChartContextMenu"),l=require("./RaspberryPiContextMenu"),c=require("./ColorPickerContextMenu"),d=require("./code/Code");exports.system=new r.System,exports.code=new d.Code,exports.user=new n.User("Charles",null,"Xie");var u='<span style="font-size: 2em; vertical-align: middle; cursor: pointer;"><i class="fab fa-facebook-square"></i></span>\n              <span style="font-size: 2em; vertical-align: middle; cursor: pointer;"><i class="fab fa-weixin"></i></span>\n              <span style="font-size: 2em; vertical-align: middle; cursor: pointer;"><i class="fab fa-twitter"></i></span>\n              <span style="font-size: 2em; vertical-align: middle; cursor: pointer;"><i class="fab fa-weibo"></i></span>\n              <span style="font-size: 2em; vertical-align: middle; cursor: pointer;"><i class="fab fa-youtube"></i></span>';function p(e,t){for(var n=document.getElementsByClassName("tabcontent"),r=0;r<n.length;r++)n[r].style.display="none";var a=document.getElementsByClassName("tablinks");for(r=0;r<a.length;r++)a[r].className=a[r].className.replace(" active","");document.getElementById(t).style.display="block",e.className+=" active"}function m(e){var t=localStorage.getItem("Visible: "+e.getUid());null!=t&&(e.setVisible("true"==t),e.draw())}function w(e){var t=localStorage.getItem("X: "+e.getUid());null!=t&&e.setX(parseInt(t));var n=localStorage.getItem("Y: "+e.getUid());null!=n&&e.setY(parseInt(n))}function y(){var e=exports.system.workbench.canvas.getBoundingClientRect();exports.system.workbench.canvas.width=window.innerWidth-2*e.left-4,exports.system.workbench.canvas.height=window.innerHeight-e.top-50;exports.code.codespace.canvas.getBoundingClientRect();exports.code.codespace.canvas.width=window.innerWidth-2*e.left-4,exports.code.codespace.canvas.height=window.innerHeight-e.top-50,document.getElementById("components-scroller").style.height=.8*exports.system.workbench.canvas.height+"px"}function g(){exports.system.draw(),exports.code.draw()}window.onload=function(){document.getElementById("sign-in-label").innerHTML="Hello, "+exports.user.firstName,document.getElementById("name-label").innerHTML=t.Software.name,document.getElementById("version-label").innerHTML=t.Software.version,document.getElementById("credit").innerHTML=u+"<div class='horizontal-divider'></div>"+t.Software.name+" "+t.Software.version+", "+exports.user.fullName+" , &copy; "+(new Date).getFullYear();var e=document.getElementById("digital-twins-tab-button");e.addEventListener("click",function(t){p(e,"digital-twins-playground")});var n=document.getElementById("diagram-tab-button");n.addEventListener("click",function(e){p(n,"diagram-playground")});var r=document.getElementById("code-tab-button");r.addEventListener("click",function(e){p(r,"code-playground")}),(new s.WorkbenchContextMenu).render("workbench-context-menu-placeholder"),(new l.RaspberryPiContextMenu).render("raspberry-pi-context-menu-placeholder");var d=new o.RainbowHatContextMenu;d.render("rainbow-hat-context-menu-placeholder"),d.addListeners(),(new i.LineChartContextMenu).render("linechart-context-menu-placeholder"),(new c.ColorPickerContextMenu).render("colorpicker-context-menu-placeholder"),(new a.ComponentsPanel).render("components-panel"),w(exports.system.raspberryPi),w(exports.system.rainbowHat),w(exports.system.temperatureGraph),w(exports.system.pressureGraph),m(exports.system.temperatureGraph),m(exports.system.pressureGraph);var f=localStorage.getItem("Attached: "+exports.system.rainbowHat.getUid());null!=f&&(parseInt(f)>=0&&exports.system.rainbowHat.attach(exports.system.raspberryPi));y(),g()},window.onresize=function(){y(),g()};
},{"@fortawesome/fontawesome-free/css/all.css":"Eofe","./Constants":"Xnuv","./User":"TG6N","./System":"mq6L","./ComponentsPanel":"lQXm","./RainbowHatContextMenu":"Y1Zb","./WorkbenchContextMenu":"hucW","./LineChartContextMenu":"ZWjg","./RaspberryPiContextMenu":"KHcM","./ColorPickerContextMenu":"p20I","./code/Code":"Ubvy"}]},{},["XE2v"], null)
//# sourceMappingURL=/Main.d12719c4.js.map