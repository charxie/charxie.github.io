{"version":3,"sources":["lib/augment.js"],"names":["Object","size","obj","count","key","hasOwnProperty","indexOf","index","x","getPropertyByIndex","i","getFirstValue","String","prototype","startsWith","s","Array","shuffle","currentIndex","temporaryValue","randomIndex","length","Math","floor","random","CanvasRenderingContext2D","fillRoundedRect","y","w","h","r","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fill","drawRoundedRect","stroke","drawTooltip","margin","text","centered","save","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","tooltipWidth","measureText","width","fillStyle","strokeStyle","lineWidth","restore","textAlign","fillText","str","navigator","sayswho","ua","tem","userAgent","M","match","test","exec","slice","join","replace","appName","appVersion","splice"],"mappings":";AAQA,aAG2B,mBAAhBA,OAAOC,OAChBD,OAAOC,KAAO,SAAUC,GAClBC,IAAAA,EAAQ,EACP,IAAA,IAAIC,KAAOF,EACVA,EAAIG,eAAeD,IACrBD,IAEGA,OAAAA,IAImB,mBAAnBH,OAAOM,UAChBN,OAAOM,QAAU,SAAUF,EAAKF,GAC1B,IAACA,EAAIG,eAAeD,GACtB,OAAQ,EACNG,IAAAA,GAAS,EACR,IAAA,IAAIC,KAAKN,EACRA,GAAAA,EAAIG,eAAeG,KACrBD,IACIH,IAAQI,GACHD,OAAAA,EAINA,OAAAA,IAIXP,OAAOS,mBAAqB,SAAUF,EAAOL,GACvCQ,IAAAA,GAAK,EACJ,IAAA,IAAIF,KAAKN,EACRA,GAAAA,EAAIG,eAAeG,MACrBE,IACUH,EACDC,OAAAA,EAIN,OAAA,MAGTR,OAAOW,cAAgB,SAAUT,GAC1B,IAAA,IAAIM,KAAKN,EACRA,GAAAA,EAAIG,eAAeG,GACdN,OAAAA,EAAIM,GAGR,OAAA,MAGkC,mBAAhCI,OAAOC,UAAUC,aAC1BF,OAAOC,UAAUC,WAAa,SAAUC,GAC/B,OAAoB,IAApB,KAAKT,QAAQS,KAKe,mBAA5BC,MAAMH,UAAUI,UACzBD,MAAMH,UAAUI,QAAU,WAGjBC,IAFHA,IAA4BC,EAAgBC,EAA5CF,EAAe,KAAKG,OAEA,IAAjBH,GAELE,EAAcE,KAAKC,MAAMD,KAAKE,SAAWN,GAGzCC,EAAiB,KAFjBD,GAAgB,GAGXA,KAAAA,GAAgB,KAAKE,GACrBA,KAAAA,GAAeD,IAKwC,mBAAvDM,yBAAyBZ,UAAUa,kBAC5CD,yBAAyBZ,UAAUa,gBAAkB,SAAyBlB,EAAGmB,EAAGC,EAAGC,EAAGC,GACnFC,KAAAA,YACAC,KAAAA,OAAOxB,EAAIsB,EAAGH,GACdM,KAAAA,OAAOzB,EAAIoB,EAAIE,EAAGH,GAClBO,KAAAA,iBAAiB1B,EAAIoB,EAAGD,EAAGnB,EAAIoB,EAAGD,EAAIG,GACtCG,KAAAA,OAAOzB,EAAIoB,EAAGD,EAAIE,EAAIC,GACtBI,KAAAA,iBAAiB1B,EAAIoB,EAAGD,EAAIE,EAAGrB,EAAIoB,EAAIE,EAAGH,EAAIE,GAC9CI,KAAAA,OAAOzB,EAAIsB,EAAGH,EAAIE,GAClBK,KAAAA,iBAAiB1B,EAAGmB,EAAIE,EAAGrB,EAAGmB,EAAIE,EAAIC,GACtCG,KAAAA,OAAOzB,EAAGmB,EAAIG,GACdI,KAAAA,iBAAiB1B,EAAGmB,EAAGnB,EAAIsB,EAAGH,GAC9BQ,KAAAA,YACAC,KAAAA,SAIyD,mBAAvDX,yBAAyBZ,UAAUwB,kBAC5CZ,yBAAyBZ,UAAUwB,gBAAkB,SAAyB7B,EAAGmB,EAAGC,EAAGC,EAAGC,GACnFC,KAAAA,YACAC,KAAAA,OAAOxB,EAAIsB,EAAGH,GACdM,KAAAA,OAAOzB,EAAIoB,EAAIE,EAAGH,GAClBO,KAAAA,iBAAiB1B,EAAIoB,EAAGD,EAAGnB,EAAIoB,EAAGD,EAAIG,GACtCG,KAAAA,OAAOzB,EAAIoB,EAAGD,EAAIE,EAAIC,GACtBI,KAAAA,iBAAiB1B,EAAIoB,EAAGD,EAAIE,EAAGrB,EAAIoB,EAAIE,EAAGH,EAAIE,GAC9CI,KAAAA,OAAOzB,EAAIsB,EAAGH,EAAIE,GAClBK,KAAAA,iBAAiB1B,EAAGmB,EAAIE,EAAGrB,EAAGmB,EAAIE,EAAIC,GACtCG,KAAAA,OAAOzB,EAAGmB,EAAIG,GACdI,KAAAA,iBAAiB1B,EAAGmB,EAAGnB,EAAIsB,EAAGH,GAC9BQ,KAAAA,YACAG,KAAAA,WAITb,yBAAyBZ,UAAU0B,YAAc,SAAqB/B,EAAGmB,EAAGE,EAAGC,EAAGU,EAAQC,EAAMC,GACzFC,KAAAA,OACAC,KAAAA,YAAc,QACdC,KAAAA,WAAa,EACbC,KAAAA,cAAgB,EAChBC,KAAAA,cAAgB,EACjBC,IAAAA,EAAe,KAAKC,YAAYR,GAAMS,MAAQ,EAAIV,EACjDW,KAAAA,UAAY,yBACZzB,KAAAA,gBAAgBgB,EAAWlC,EAAIwC,EAAe,EAAIxC,EAAGmB,EAAGqB,EAAcnB,EAAGC,GACzEsB,KAAAA,YAAc,YACdC,KAAAA,UAAY,EACZtB,KAAAA,YACAM,KAAAA,gBAAgBK,EAAWlC,EAAIwC,EAAe,EAAIxC,EAAGmB,EAAGqB,EAAcnB,EAAGC,GACzEQ,KAAAA,SACAH,KAAAA,YACAmB,KAAAA,UACAX,KAAAA,OACAQ,KAAAA,UAAY,QACZI,KAAAA,UAAY,SACZC,KAAAA,SAASf,EAAMC,EAAWlC,EAAIA,EAAIwC,EAAe,EAAGrB,EAAIE,EAAI,EAAI,GAChEyB,KAAAA,WAIoC,mBAAhC1C,OAAOC,UAAUC,aAC1BF,OAAOC,UAAUC,WAAa,SAAU2C,GAC/B,OAAsB,IAAtB,KAAKnD,QAAQmD,KAIxBC,UAAUC,QAAW,WACfC,IAA0BC,EAA1BD,EAAKF,UAAUI,UAAgBC,EAAIH,EAAGI,MAAM,iEAAmE,GAC/G,MAAA,WAAWC,KAAKF,EAAE,IAEb,QADPF,EAAM,kBAAkBK,KAAKN,IAAO,IAChB,IAAM,IAEf,WAATG,EAAE,IAEO,OADXF,EAAMD,EAAGI,MAAM,wBAENH,EAAIM,MAAM,GAAGC,KAAK,KAAKC,QAAQ,MAAO,UAEjDN,EAAIA,EAAE,GAAK,CAACA,EAAE,GAAIA,EAAE,IAAM,CAACL,UAAUY,QAASZ,UAAUa,WAAY,MACzB,OAAtCV,EAAMD,EAAGI,MAAM,qBAClBD,EAAES,OAAO,EAAG,EAAGX,EAAI,IACdE,EAAEK,KAAK,MAdK","file":"augment.46654c4f.js","sourceRoot":"..","sourcesContent":["/*\r\n * This file contains all the methods that augment prototypes of system objects. In cases where the name is obvious,\r\n * we want to check if the method has been defined by the language. If yes, we should not define our own.\r\n *\r\n * @author Charles Xie\r\n *\r\n */\r\n\r\n'use strict';\r\n\r\n// A convenient method for counting the number of members of an object\r\nif (typeof Object.size !== 'function') {\r\n  Object.size = function (obj) {\r\n    var count = 0;\r\n    for (var key in obj) {\r\n      if (obj.hasOwnProperty(key))\r\n        count++;\r\n    }\r\n    return count;\r\n  };\r\n}\r\n\r\nif (typeof Object.indexOf !== 'function') {\r\n  Object.indexOf = function (key, obj) {\r\n    if (!obj.hasOwnProperty(key))\r\n      return -1;\r\n    var index = -1;\r\n    for (var x in obj) {\r\n      if (obj.hasOwnProperty(x)) {\r\n        index++;\r\n        if (key === x) {\r\n          return index;\r\n        }\r\n      }\r\n    }\r\n    return index;\r\n  }\r\n}\r\n\r\nObject.getPropertyByIndex = function (index, obj) {\r\n  var i = -1;\r\n  for (var x in obj) {\r\n    if (obj.hasOwnProperty(x)) {\r\n      i++;\r\n      if (i === index) {\r\n        return x;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nObject.getFirstValue = function (obj) {\r\n  for (var x in obj) {\r\n    if (obj.hasOwnProperty(x)) {\r\n      return obj[x];\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nif (typeof String.prototype.startsWith !== 'function') { // do not call this, doesn't work for some reason\r\n  String.prototype.startsWith = function (s) {\r\n    return this.indexOf(s) === 0;\r\n  };\r\n}\r\n\r\n// Fisherâ€“Yates shuffle of an array\r\nif (typeof Array.prototype.shuffle !== 'function') {\r\n  Array.prototype.shuffle = function shuffle() {\r\n    var currentIndex = this.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (currentIndex !== 0) {\r\n      // Pick a remaining element...\r\n      randomIndex = Math.floor(Math.random() * currentIndex);\r\n      currentIndex -= 1;\r\n      // And swap it with the current element.\r\n      temporaryValue = this[currentIndex];\r\n      this[currentIndex] = this[randomIndex];\r\n      this[randomIndex] = temporaryValue;\r\n    }\r\n  }\r\n}\r\n\r\nif (typeof CanvasRenderingContext2D.prototype.fillRoundedRect !== 'function') {\r\n  CanvasRenderingContext2D.prototype.fillRoundedRect = function fillRoundedRect(x, y, w, h, r) {\r\n    this.beginPath();\r\n    this.moveTo(x + r, y);\r\n    this.lineTo(x + w - r, y);\r\n    this.quadraticCurveTo(x + w, y, x + w, y + r);\r\n    this.lineTo(x + w, y + h - r);\r\n    this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\r\n    this.lineTo(x + r, y + h);\r\n    this.quadraticCurveTo(x, y + h, x, y + h - r);\r\n    this.lineTo(x, y + r);\r\n    this.quadraticCurveTo(x, y, x + r, y);\r\n    this.closePath();\r\n    this.fill();\r\n  }\r\n}\r\n\r\nif (typeof CanvasRenderingContext2D.prototype.drawRoundedRect !== 'function') {\r\n  CanvasRenderingContext2D.prototype.drawRoundedRect = function drawRoundedRect(x, y, w, h, r) {\r\n    this.beginPath();\r\n    this.moveTo(x + r, y);\r\n    this.lineTo(x + w - r, y);\r\n    this.quadraticCurveTo(x + w, y, x + w, y + r);\r\n    this.lineTo(x + w, y + h - r);\r\n    this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\r\n    this.lineTo(x + r, y + h);\r\n    this.quadraticCurveTo(x, y + h, x, y + h - r);\r\n    this.lineTo(x, y + r);\r\n    this.quadraticCurveTo(x, y, x + r, y);\r\n    this.closePath();\r\n    this.stroke();\r\n  }\r\n}\r\n\r\nCanvasRenderingContext2D.prototype.drawTooltip = function drawTooltip(x, y, h, r, margin, text, centered) {\r\n  this.save();\r\n  this.shadowColor = 'black';\r\n  this.shadowBlur = 8;\r\n  this.shadowOffsetX = 2;\r\n  this.shadowOffsetY = 2;\r\n  var tooltipWidth = this.measureText(text).width + 2 * margin;\r\n  this.fillStyle = 'rgba(255, 202, 0, 0.5)';\r\n  this.fillRoundedRect(centered ? x - tooltipWidth / 2 : x, y, tooltipWidth, h, r);\r\n  this.strokeStyle = 'lightGray';\r\n  this.lineWidth = 1;\r\n  this.beginPath();\r\n  this.drawRoundedRect(centered ? x - tooltipWidth / 2 : x, y, tooltipWidth, h, r);\r\n  this.stroke();\r\n  this.closePath();\r\n  this.restore();\r\n  this.save();\r\n  this.fillStyle = 'white';\r\n  this.textAlign = 'center';\r\n  this.fillText(text, centered ? x : x + tooltipWidth / 2, y + h / 2 + 5);\r\n  this.restore();\r\n}\r\n\r\n// if String.startsWith hasn't been defined, as is in the case of IE, define it below\r\nif (typeof String.prototype.startsWith !== 'function') {\r\n  String.prototype.startsWith = function (str) {\r\n    return this.indexOf(str) === 0;\r\n  };\r\n}\r\n\r\nnavigator.sayswho = (function () {\r\n  var ua = navigator.userAgent, tem, M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\r\n  if (/trident/i.test(M[1])) {\r\n    tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\r\n    return 'IE ' + (tem[1] || '');\r\n  }\r\n  if (M[1] === 'Chrome') {\r\n    tem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/);\r\n    if (tem != null)\r\n      return tem.slice(1).join(' ').replace('OPR', 'Opera');\r\n  }\r\n  M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\r\n  if ((tem = ua.match(/version\\/(\\d+)/i)) != null)\r\n    M.splice(1, 1, tem[1]);\r\n  return M.join(' ');\r\n})();\r\n"]}