<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <script type="text/javascript" src="mw.js"></script>
  <script type="text/javascript"> 
	function sendCode(id, prop) {
		var msg = runScript(id, "mw2d:1:get "+prop);
        	document.getElementById("code").innerHTML=prop+": " + msg;
     	}
     	function stopRKey(evt) { 
  		var evt = (evt) ? evt : ((event) ? event : null); 
  		var node = (evt.target) ? evt.target : ((evt.srcElement) ? evt.srcElement : null); 
  		if ((evt.keyCode == 13) && (node.type=="text"))  {return false;} 
	} 
	document.onkeypress = stopRKey; 
  </script>
  <title>Getting data out of an MW model</title>
</head>
<body>

<center><h2>Getting data out of an MW model through JavaScript</h2>

<applet id="applet1" archive="mwapplet.jar" code="org.concord.modeler.MwApplet" width="100%" height="410">
  <param name="script" value="page:0:import pendulum.cml; set frank false;"/> 
  <param name="permissions" value="all-permissions"/>
</applet>

<br>

<form>
<input type="button" value="Print x" onclick="sendCode('applet1', '%particle[1].rx')">
<input type="button" value="Print y" onclick="sendCode('applet1', '%particle[1].ry')">
<input type="button" value="Print angle" onclick="sendCode('applet1', '%angle')">
</form>

<div id="code"></div>

</center>


</body>
</html>
