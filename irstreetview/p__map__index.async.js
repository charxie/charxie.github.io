(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"55ZA":function(e,t){e.exports="data:image/png;base64,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"},KeWF:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o=n("sy1d");function c(){return Object(r["b"])(this,void 0,Promise,function(){return Object(r["c"])(this,function(e){return[2,Object(o["a"])("/api/panos")]})})}},sy1d:function(e,t,n){"use strict";n("/xke");var r=n("TeRw"),o=n("mrSG"),c=n("io9h"),a=n("3a4m"),i=n.n(a),s=function(e){return"refresh"===e?localStorage.getItem("refresh_token"):"token"===e?localStorage.getItem("token"):void 0},u=function(e){return"refresh"===e?localStorage.removeItem("refresh_token"):"token"===e?localStorage.removeItem("token"):void 0};var A={200:"Successfully fetched data"},d=[],l=function(e){var t=e.response;if(t&&t.status){var n=A[t.status]||t.statusText,o=t.status,c=t.url;if(401===o){if(u("token"),!window||d.includes(window.location.pathname))return t;i.a.push("/user/login")}return d.includes(window.location.pathname)||r["a"].error({message:"Network error "+o+": "+c,description:n}),t}return t},g=Object(c["a"])({errorHandler:l,credentials:"include"});g.interceptors.request.use(function(e,t){var n=[];return{url:e,options:Object(o["a"])(Object(o["a"])({},t),{headers:n.includes(e.replace(/\?.*$/,""))||!s("token")?{}:{Authorization:"Bearer "+s("token")}})}});t["a"]=g},tzxI:function(e,t,n){"use strict";n.r(t);var r,o,c=n("mrSG"),a=n("q1tI"),i=n.n(a),s=n("+567"),u=n("bKel"),A=n.n(u),d=n("NADc"),l=n("KeWF"),g=n("55ZA"),p=n.n(g),f=n("vOnD"),b=Object(f["a"])(s["Map"])(r||(r=Object(c["d"])(["\n  width: 100%;\n  height: 100%;\n  position: relative !important;\n"],["\n  width: 100%;\n  height: 100%;\n  position: relative !important;\n"]))),v=f["a"].div(o||(o=Object(c["d"])(["\n  width: 100%;\n  height: 100%;\n  display: ",";\n\n  & > div {\n    width: 100%;\n    height: 100%;\n  }\n"],["\n  width: 100%;\n  height: 100%;\n  display: ",";\n\n  & > div {\n    width: 100%;\n    height: 100%;\n  }\n"])),function(e){var t=e.show,n=void 0!==t&&t;return n?"block":"none"}),h={boston:{coord:{lat:42.36,lng:-71.053},zoom:18},concord:{coord:{lat:42.45955,lng:-71.3525},zoom:18},center:{coord:{lat:42.4,lng:-71.2},zoom:11},copley:{coord:{lat:42.349529,lng:-71.075603},zoom:15}},w=function e(t){if(Array.isArray(t))return e(t[0]);switch(t){case"quincy":return"boston";case"atlave":return"boston";case"caa":return"concord";case"cab":return"concord";case"cdt":return"concord";case"huntave":return"copley";case"boyst":return"copley";case"copsq":return"copley";case"ctg":return"copley"}return null},m={styles:[{width:53,height:52,url:p.a,textColor:"white"}],zoomOnClick:!0,gridSize:20,minimumClusterSize:6},k=function(e){var t,n=e.google,r=e.match,o=e.history,s=r.params.region,u=Object(a["useRef"])(null),A=Object(a["useState"])(!1),g=A[0],p=A[1],f=Object(a["useState"])(s?18:11),v=f[0],k=f[1],S=Object(a["useState"])(s?h[s].coord:h.center.coord),B=S[0],D=S[1],j=Object(a["useState"])([]),O=j[0],P=j[1];Object(a["useEffect"])(function(){R()},[]),Object(a["useEffect"])(function(){var e;O.length>0&&Y({map:null===(e=u.current)||void 0===e?void 0:e.map,google:n})},[O]),Object(a["useEffect"])(function(){var e;null===(e=u.current)||void 0===e||e.map.streetView.setVisible(g)},[g]),Object(a["useEffect"])(function(){var e,t;s&&(null===(e=u.current)||void 0===e||e.map.setCenter(h[s].coord),D(h[s].coord),null===(t=u.current)||void 0===t||t.map.setZoom(h[s].zoom),k(h[s].zoom))},[s]);var R=function(){return Object(c["b"])(void 0,void 0,void 0,function(){var e;return Object(c["c"])(this,function(t){switch(t.label){case 0:return[4,Object(l["a"])()];case 1:return e=t.sent(),P(e.map(function(e){return{id:e.id,lat:e.coord.lat,lng:e.coord.lng,region:w(e.neighborhood)}})),[2]}})})},J=function(e){var t=e.map,n=e.google;return O.map(function(e){var r=new n.maps.Marker({position:{lat:e.lat,lng:e.lng},map:t});return r.title=e.id+"&"+e.region,r.customID=e.id,r.customRegion=e.region,n.maps.event.addListener(r,"click",function(){I(e.id)}),r})},Y=function(e){var n=e.map,r=e.google;if(n&&r){var o=J({map:n,google:r});t=new d["a"](n,o,m),r.maps.event.addListener(t,"clusterclick",function(e){T(n,e)})}},I=function(e){u.current&&(u.current.map.streetView.visible&&p(!0),o.push("/viewPano/"+e))},T=function(e,t){var n=t.getMarkers()[0].customRegion;o.push("/maps/"+n)};return i.a.createElement(b,{ref:u,google:n,zoom:v,initialCenter:B})},S=Object(s["GoogleApiWrapper"])({apiKey:"AIzaSyC41Hm7imrBnrBYdpcwYKZS8hlxxXqPEkE"})(k);t["default"]=A()(function(e){return Object(a["useEffect"])(function(){return function(){console.log("GMap...dying")}},[]),i.a.createElement(v,{show:!!e.match},i.a.createElement(S,Object(c["a"])({},e)))})}}]);